{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use((0, _cors[\"default\"])());\n\nvar db = _mysql[\"default\"].createConnection({\n  user: \"root\",\n  host: \"localhost\",\n  password: \"12345\",\n  database: \"socialdb\"\n});\n\napp.post('/register', function (req, res) {\n  var _req$body = req.body,\n      uname = _req$body.uname,\n      email = _req$body.email,\n      password = _req$body.password;\n\n  _bcrypt[\"default\"].hash(password, 10).then( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(hash) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return db.query(\"Insert into user (name,email,password) value (?,?,?)\", [uname, email, hash], function (err, result) {\n                if (err) {\n                  console.log(err);\n                  res.json({\n                    error: err\n                  });\n                } else {\n                  res.json({\n                    success: \"success\"\n                  });\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n/* login function */\n\napp.post(\"/login\", function (req, res) {\n  var _req$body2 = req.body,\n      username = _req$body2.username,\n      password = _req$body2.password;\n  db.query(\"Select * from user where email = ? limit 1 \", [username], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var user = result[0];\n\n      if (!user) {\n        res.json({\n          error: \"Username doesn't exist\"\n        });\n      } else {\n        _bcrypt[\"default\"].compare(password, user.Password).then(function (match) {\n          if (!match) {\n            res.json({\n              error: \"Wrong username and password\"\n            });\n          } else {\n            var accessToken = (0, _jsonwebtoken.sign)({\n              username: user.Name\n            }, \"secretSarita\");\n            res.json({\n              accessToken: accessToken\n            });\n          }\n        });\n      }\n    }\n  });\n});\napp.get('/hello', function (req, res) {\n  return res.send('Hello!');\n});\napp.listen(8000, function () {\n  return console.log(\"Listening on port 8000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsImRiIiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwidXNlciIsImhvc3QiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwicG9zdCIsInJlcSIsInJlcyIsImJvZHkiLCJ1bmFtZSIsImVtYWlsIiwiYmNyeXB0IiwiaGFzaCIsInRoZW4iLCJxdWVyeSIsImVyciIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInN1Y2Nlc3MiLCJ1c2VybmFtZSIsImNvbXBhcmUiLCJQYXNzd29yZCIsIm1hdGNoIiwiYWNjZXNzVG9rZW4iLCJOYW1lIiwiZ2V0Iiwic2VuZCIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLHVCQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVI7O0FBR0EsSUFBTUcsRUFBRSxHQUFHQyxrQkFBTUMsZ0JBQU4sQ0FBdUI7QUFDOUJDLEVBQUFBLElBQUksRUFBRSxNQUR3QjtBQUU5QkMsRUFBQUEsSUFBSSxFQUFFLFdBRndCO0FBRzlCQyxFQUFBQSxRQUFRLEVBQUUsT0FIb0I7QUFJOUJDLEVBQUFBLFFBQVEsRUFBRTtBQUpvQixDQUF2QixDQUFYOztBQU9BVixHQUFHLENBQUNXLElBQUosQ0FBUyxXQUFULEVBQXNCLFVBQUNDLEdBQUQsRUFBS0MsR0FBTCxFQUFhO0FBQy9CLGtCQUErQkQsR0FBRyxDQUFDRSxJQUFuQztBQUFBLE1BQU9DLEtBQVAsYUFBT0EsS0FBUDtBQUFBLE1BQWFDLEtBQWIsYUFBYUEsS0FBYjtBQUFBLE1BQW1CUCxRQUFuQixhQUFtQkEsUUFBbkI7O0FBQ0FRLHFCQUFPQyxJQUFQLENBQVlULFFBQVosRUFBc0IsRUFBdEIsRUFBMEJVLElBQTFCO0FBQUEsdUVBQWdDLGlCQUFPRCxJQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFCQUN6QmQsRUFBRSxDQUFDZ0IsS0FBSCxDQUFTLHNEQUFULEVBQWdFLENBQUNMLEtBQUQsRUFBT0MsS0FBUCxFQUFhRSxJQUFiLENBQWhFLEVBQW1GLFVBQUNHLEdBQUQsRUFBS0MsTUFBTCxFQUFjO0FBQ2hHLG9CQUFHRCxHQUFILEVBQU87QUFDSEUsa0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0FSLGtCQUFBQSxHQUFHLENBQUNWLElBQUosQ0FBUztBQUFDc0Isb0JBQUFBLEtBQUssRUFBQ0o7QUFBUCxtQkFBVDtBQUNILGlCQUhELE1BSUk7QUFDQVIsa0JBQUFBLEdBQUcsQ0FBQ1YsSUFBSixDQUFTO0FBQUN1QixvQkFBQUEsT0FBTyxFQUFDO0FBQVQsbUJBQVQ7QUFDSDtBQUNKLGVBUkUsQ0FEeUI7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBaEM7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZSCxDQWREO0FBZ0JBOztBQUNBMUIsR0FBRyxDQUFDVyxJQUFKLENBQVMsUUFBVCxFQUFtQixVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBWTtBQUUzQixtQkFBK0JELEdBQUcsQ0FBQ0UsSUFBbkM7QUFBQSxNQUFRYSxRQUFSLGNBQVFBLFFBQVI7QUFBQSxNQUFrQmxCLFFBQWxCLGNBQWtCQSxRQUFsQjtBQUNDTCxFQUFBQSxFQUFFLENBQUNnQixLQUFILENBQVUsNkNBQVYsRUFBd0QsQ0FBQ08sUUFBRCxDQUF4RCxFQUFvRSxVQUFDTixHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNoRixRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDSCxLQUZELE1BR0k7QUFDQSxVQUFNZCxJQUFJLEdBQUdlLE1BQU0sQ0FBQyxDQUFELENBQW5COztBQUNBLFVBQUksQ0FBQ2YsSUFBTCxFQUFXO0FBQ1BNLFFBQUFBLEdBQUcsQ0FBQ1YsSUFBSixDQUFTO0FBQUVzQixVQUFBQSxLQUFLLEVBQUU7QUFBVCxTQUFUO0FBQ0gsT0FGRCxNQUlJO0FBQ0lSLDJCQUFPVyxPQUFQLENBQWVuQixRQUFmLEVBQXlCRixJQUFJLENBQUNzQixRQUE5QixFQUF3Q1YsSUFBeEMsQ0FBNkMsVUFBQ1csS0FBRCxFQUFXO0FBRXhELGNBQUksQ0FBQ0EsS0FBTCxFQUNBO0FBRUlqQixZQUFBQSxHQUFHLENBQUNWLElBQUosQ0FBUztBQUFDc0IsY0FBQUEsS0FBSyxFQUFDO0FBQVAsYUFBVDtBQUVILFdBTEQsTUFPSTtBQUVBLGdCQUFNTSxXQUFXLEdBQUcsd0JBQUs7QUFBQ0osY0FBQUEsUUFBUSxFQUFDcEIsSUFBSSxDQUFDeUI7QUFBZixhQUFMLEVBQTJCLGNBQTNCLENBQXBCO0FBRUFuQixZQUFBQSxHQUFHLENBQUNWLElBQUosQ0FBUztBQUFDNEIsY0FBQUEsV0FBVyxFQUFFQTtBQUFkLGFBQVQ7QUFDSDtBQUVaLFNBaEJXO0FBa0JmO0FBR0k7QUFDSixHQWpDQTtBQXFDSixDQXhDRDtBQStDQS9CLEdBQUcsQ0FBQ2lDLEdBQUosQ0FBUSxRQUFSLEVBQWtCLFVBQUNyQixHQUFELEVBQUtDLEdBQUw7QUFBQSxTQUFZQSxHQUFHLENBQUNxQixJQUFKLENBQVMsUUFBVCxDQUFaO0FBQUEsQ0FBbEI7QUFHQWxDLEdBQUcsQ0FBQ21DLE1BQUosQ0FBVyxJQUFYLEVBQWdCO0FBQUEsU0FBTVosT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVosQ0FBTjtBQUFBLENBQWhCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZ2FpcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxzb2NpYWxhd2FybmVzc1xcc2VydmVyXFxzcmNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xyXG5pbXBvcnQgbXlzcWwgZnJvbSBcIm15c3FsXCI7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCB7c2lnbn0gZnJvbSAnanNvbndlYnRva2VuJztcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcblxyXG5jb25zdCBkYiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgdXNlcjogXCJyb290XCIsXHJcbiAgICBob3N0OiBcImxvY2FsaG9zdFwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiMTIzNDVcIixcclxuICAgIGRhdGFiYXNlOiBcInNvY2lhbGRiXCIsXHJcbn0pO1xyXG5cclxuYXBwLnBvc3QoJy9yZWdpc3RlcicsIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dW5hbWUsZW1haWwscGFzc3dvcmR9ID0gcmVxLmJvZHk7XHJcbiAgICBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApLnRoZW4oIGFzeW5jIChoYXNoKSA9PiB7XHJcbiAgICAgYXdhaXQgZGIucXVlcnkoXCJJbnNlcnQgaW50byB1c2VyIChuYW1lLGVtYWlsLHBhc3N3b3JkKSB2YWx1ZSAoPyw/LD8pXCIsW3VuYW1lLGVtYWlsLGhhc2hdLChlcnIscmVzdWx0KT0+e1xyXG4gICAgICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtlcnJvcjplcnJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6XCJzdWNjZXNzXCJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyBcclxuICAgIH0pO1xyXG4gICAgXHJcbn0pO1xyXG5cclxuLyogbG9naW4gZnVuY3Rpb24gKi9cclxuYXBwLnBvc3QoXCIvbG9naW5cIiwgKHJlcSxyZXMpID0+e1xyXG5cclxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuICAgICBkYi5xdWVyeSggXCJTZWxlY3QgKiBmcm9tIHVzZXIgd2hlcmUgZW1haWwgPSA/IGxpbWl0IDEgXCIsW3VzZXJuYW1lXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0WzBdO1xyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgZXJyb3I6IFwiVXNlcm5hbWUgZG9lc24ndCBleGlzdFwifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIuUGFzc3dvcmQpLnRoZW4oKG1hdGNoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7ZXJyb3I6XCJXcm9uZyB1c2VybmFtZSBhbmQgcGFzc3dvcmRcIn0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHNpZ24oe3VzZXJuYW1lOnVzZXIuTmFtZX0sIFwic2VjcmV0U2FyaXRhXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe2FjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuICAgXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5hcHAuZ2V0KCcvaGVsbG8nLCAocmVxLHJlcyk9PiByZXMuc2VuZCgnSGVsbG8hJykpO1xyXG5cclxuXHJcbmFwcC5saXN0ZW4oODAwMCwoKSA9PiBjb25zb2xlLmxvZyhcIkxpc3RlbmluZyBvbiBwb3J0IDgwMDBcIikpOyJdfQ==","map":{"version":3,"sources":["server.js"],"names":["app","use","bodyParser","json","db","mysql","createConnection","user","host","password","database","post","req","res","body","uname","email","bcrypt","hash","then","query","err","result","console","log","error","success","username","compare","Password","match","accessToken","Name","get","send","listen"],"mappings":"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","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\src\\","sourcesContent":["import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport mysql from \"mysql\";\r\nimport cors from 'cors';\r\nimport bcrypt from 'bcrypt';\r\nimport {sign} from 'jsonwebtoken';\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use(cors());\r\n\r\n\r\nconst db = mysql.createConnection({\r\n    user: \"root\",\r\n    host: \"localhost\",\r\n    password: \"12345\",\r\n    database: \"socialdb\",\r\n});\r\n\r\napp.post('/register', (req,res) => {\r\n    const {uname,email,password} = req.body;\r\n    bcrypt.hash(password, 10).then( async (hash) => {\r\n     await db.query(\"Insert into user (name,email,password) value (?,?,?)\",[uname,email,hash],(err,result)=>{\r\n            if(err){\r\n                console.log(err);\r\n                res.json({error:err});\r\n            }\r\n            else{\r\n                res.json({success:\"success\"});\r\n            }\r\n        }); \r\n    });\r\n    \r\n});\r\n\r\n/* login function */\r\napp.post(\"/login\", (req,res) =>{\r\n\r\n    const { username, password } = req.body;\r\n     db.query( \"Select * from user where email = ? limit 1 \",[username], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const user = result[0];\r\n            if (!user) {\r\n                res.json({ error: \"Username doesn't exist\"});\r\n            }\r\n            \r\n            else{\r\n                    bcrypt.compare(password, user.Password).then((match) => {\r\n\r\n                    if (!match)\r\n                    {\r\n                    \r\n                        res.json({error:\"Wrong username and password\"});\r\n\r\n                    }\r\n\r\n                    else{\r\n\r\n                        const accessToken = sign({username:user.Name}, \"secretSarita\");\r\n\r\n                        res.json({accessToken: accessToken});\r\n                    }\r\n\r\n        });\r\n        \r\n    }\r\n            \r\n            \r\n        }\r\n    });\r\n\r\n    \r\n   \r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\napp.get('/hello', (req,res)=> res.send('Hello!'));\r\n\r\n\r\napp.listen(8000,() => console.log(\"Listening on port 8000\"));"]}},"mtime":1650936476278}}