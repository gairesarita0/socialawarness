{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressFileupload = _interopRequireDefault(require(\"express-fileupload\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express[\"default\"])();\napp.use(_express[\"default\"][\"static\"](_path[\"default\"].join(__dirname + '/public')));\napp.use((0, _expressFileupload[\"default\"])());\napp.use(_bodyParser[\"default\"].json());\napp.use((0, _cors[\"default\"])()); // Routers \n\nvar eventsRouter = require(\"../routes/Events\");\n\nvar userManagement = require(\"../routes/Users\");\n\nvar advManagement = require(\"../routes/Advertise\");\n\nvar comments = require(\"../routes/Comments\");\n\napp.use(\"/api/events\", eventsRouter);\napp.use(\"/api/users\", userManagement);\napp.use(\"/api/adv\", advManagement);\napp.use(\"/api/comments\", comments);\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\napp.post('/api/register', function (req, res) {\n  var _req$body = req.body,\n      uname = _req$body.uname,\n      email = _req$body.email,\n      password = _req$body.password;\n\n  _bcrypt[\"default\"].hash(password, 10).then( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(hash) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              db.query(\"Insert into user (name,email,password,accesslevel) value (?,?,?,?)\", [uname, email, hash, 1], function (err, result) {\n                if (err) {\n                  console.log(err);\n                  res.json({\n                    error: err\n                  });\n                } else {\n                  res.json({\n                    success: \"success\"\n                  });\n                }\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n/* login function */\n\napp.post(\"/api/login\", function (req, res) {\n  var _req$body2 = req.body,\n      username = _req$body2.username,\n      password = _req$body2.password;\n  db.query(\"Select * from user where email = ? limit 1 \", [username], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var user = result[0];\n\n      if (!user) {\n        res.json({\n          error: \"Username doesn't exist\"\n        });\n      } else {\n        _bcrypt[\"default\"].compare(password, user.Password).then(function (match) {\n          if (!match) {\n            res.json({\n              error: \"Wrong username and password\"\n            });\n          } else {\n            var accessToken = (0, _jsonwebtoken.sign)({\n              username: user.Name,\n              uid: user.uid,\n              accesslevel: user.accesslevel\n            }, \"secretSarita\");\n            res.json({\n              accessToken: accessToken\n            });\n          }\n        });\n      }\n    }\n  });\n});\n/* check authincated or not */\n\napp.get(\"/api/authOR\", _AuthMiddleware.validateToken, function (req, res) {\n  res.json(req.user);\n});\napp.listen(8000, function () {\n  return console.log(\"Listening on port 8000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJleHByZXNzIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJib2R5UGFyc2VyIiwianNvbiIsImV2ZW50c1JvdXRlciIsInJlcXVpcmUiLCJ1c2VyTWFuYWdlbWVudCIsImFkdk1hbmFnZW1lbnQiLCJjb21tZW50cyIsImRiIiwicG9zdCIsInJlcSIsInJlcyIsImJvZHkiLCJ1bmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwidGhlbiIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic3VjY2VzcyIsInVzZXJuYW1lIiwidXNlciIsImNvbXBhcmUiLCJQYXNzd29yZCIsIm1hdGNoIiwiYWNjZXNzVG9rZW4iLCJOYW1lIiwidWlkIiwiYWNjZXNzbGV2ZWwiLCJnZXQiLCJ2YWxpZGF0ZVRva2VuIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUdBLElBQU1BLEdBQUcsR0FBRywwQkFBWjtBQUVBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsOEJBQWVDLGlCQUFLQyxJQUFMLENBQVVDLFNBQVMsR0FBRyxTQUF0QixDQUFmLENBQVI7QUFDQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0NBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFLLHVCQUFXQyxJQUFYLEVBQVI7QUFDQVAsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVIsRSxDQUVBOztBQUNBLElBQU1PLFlBQVksR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQTVCOztBQUNBLElBQU1DLGNBQWMsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQTlCOztBQUNBLElBQU1FLGFBQWEsR0FBR0YsT0FBTyxDQUFDLHFCQUFELENBQTdCOztBQUNBLElBQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFD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QWxELGFBQUwsRUFBcUUsY0FBckUsQ0FBcEI7QUFFQXZCLFlBQUFBLEdBQUcsQ0FBQ1QsSUFBSixDQUFTO0FBQUM2QixjQUFBQSxXQUFXLEVBQUVBO0FBQWQsYUFBVDtBQUNIO0FBRVosU0FoQlc7QUFrQmY7QUFHSTtBQUNKLEdBakNEO0FBcUNILENBeENEO0FBMkNBOztBQUNBcEMsR0FBRyxDQUFDd0MsR0FBSixDQUFRLGFBQVIsRUFBc0JDLDZCQUF0QixFQUFvQyxVQUFDMUIsR0FBRCxFQUFLQyxHQUFMLEVBQVc7QUFDM0NBLEVBQUFBLEdBQUcsQ0FBQ1QsSUFBSixDQUFTUSxHQUFHLENBQUNpQixJQUFiO0FBQ0gsQ0FGRDtBQU9BaEMsR0FBRyxDQUFDMEMsTUFBSixDQUFXLElBQVgsRUFBZ0I7QUFBQSxTQUFNZixPQUFPLENBQUNDLEdBQVIsQ0FBWSx3QkFBWixDQUFOO0FBQUEsQ0FBaEIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxnYWlyZVxcT25lRHJpdmVcXERlc2t0b3BcXHNvY2lhbGF3YXJuZXNzXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGZpbGVVcGxvYWQgZnJvbSBcImV4cHJlc3MtZmlsZXVwbG9hZFwiO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcclxuXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCB7c2lnbn0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7dmFsaWRhdGVUb2tlbn0gZnJvbSAnLi4vbWlkZGxld2FyZS9BdXRoTWlkZGxld2FyZSc7XHJcblxyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lICsgJy9wdWJsaWMnKSkpO1xyXG5hcHAudXNlKGZpbGVVcGxvYWQoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG4vLyBSb3V0ZXJzIFxyXG5jb25zdCBldmVudHNSb3V0ZXIgPSByZXF1aXJlKFwiLi4vcm91dGVzL0V2ZW50c1wiKTtcclxuY29uc3QgdXNlck1hbmFnZW1lbnQgPSByZXF1aXJlKFwiLi4vcm91dGVzL1VzZXJzXCIpO1xyXG5jb25zdCBhZHZNYW5hZ2VtZW50ID0gcmVxdWlyZShcIi4uL3JvdXRlcy9BZHZlcnRpc2VcIik7XHJcbmNvbnN0IGNvbW1lbnRzID0gcmVxdWlyZShcIi4uL3JvdXRlcy9Db21tZW50c1wiKTtcclxuXHJcbmFwcC51c2UoXCIvYXBpL2V2ZW50c1wiLGV2ZW50c1JvdXRlcik7XHJcbmFwcC51c2UoXCIvYXBpL3VzZXJzXCIsIHVzZXJNYW5hZ2VtZW50KTtcclxuYXBwLnVzZShcIi9hcGkvYWR2XCIsIGFkdk1hbmFnZW1lbnQpO1xyXG5hcHAudXNlKFwiL2FwaS9jb21tZW50c1wiLGNvbW1lbnRzKTtcclxuXHJcblxyXG5jb25zdCB7ZGJ9ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlXCIpO1xyXG5cclxuXHJcblxyXG5hcHAucG9zdCgnL2FwaS9yZWdpc3RlcicsIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7dW5hbWUsZW1haWwscGFzc3dvcmR9ID0gcmVxLmJvZHk7XHJcbiAgICBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApLnRoZW4oIGFzeW5jIChoYXNoKSA9PiB7XHJcbiAgICBkYi5xdWVyeShcIkluc2VydCBpbnRvIHVzZXIgKG5hbWUsZW1haWwscGFzc3dvcmQsYWNjZXNzbGV2ZWwpIHZhbHVlICg/LD8sPyw/KVwiLFt1bmFtZSxlbWFpbCxoYXNoLDFdLChlcnIscmVzdWx0KT0+e1xyXG4gICAgICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtlcnJvcjplcnJ9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7c3VjY2VzczpcInN1Y2Nlc3NcIn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7IFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG59KTtcclxuXHJcbi8qIGxvZ2luIGZ1bmN0aW9uICovXHJcbmFwcC5wb3N0KFwiL2FwaS9sb2dpblwiLCAocmVxLHJlcykgPT57XHJcblxyXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSB1c2VyIHdoZXJlIGVtYWlsID0gPyBsaW1pdCAxIFwiLFt1c2VybmFtZV0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdFswXTtcclxuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXMuanNvbih7IGVycm9yOiBcIlVzZXJuYW1lIGRvZXNuJ3QgZXhpc3RcIn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLlBhc3N3b3JkKS50aGVuKChtYXRjaCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe2Vycm9yOlwiV3JvbmcgdXNlcm5hbWUgYW5kIHBhc3N3b3JkXCJ9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBzaWduKHt1c2VybmFtZTp1c2VyLk5hbWUsdWlkOnVzZXIudWlkLGFjY2Vzc2xldmVsOnVzZXIuYWNjZXNzbGV2ZWx9LCBcInNlY3JldFNhcml0YVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHthY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW59KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbiAgIFxyXG59KTtcclxuXHJcblxyXG4vKiBjaGVjayBhdXRoaW5jYXRlZCBvciBub3QgKi9cclxuYXBwLmdldChcIi9hcGkvYXV0aE9SXCIsdmFsaWRhdGVUb2tlbiwocmVxLHJlcyk9PntcclxuICAgIHJlcy5qc29uKHJlcS51c2VyKTtcclxufSlcclxuXHJcblxyXG5cclxuXHJcbmFwcC5saXN0ZW4oODAwMCwoKSA9PiBjb25zb2xlLmxvZyhcIkxpc3RlbmluZyBvbiBwb3J0IDgwMDBcIikpOyJdfQ==","map":{"version":3,"sources":["server.js"],"names":["app","use","express","path","join","__dirname","bodyParser","json","eventsRouter","require","userManagement","advManagement","comments","db","post","req","res","body","uname","email","password","bcrypt","hash","then","query","err","result","console","log","error","success","username","user","compare","Password","match","accessToken","Name","uid","accesslevel","get","validateToken","listen"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAGA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,8BAAeC,iBAAKC,IAAL,CAAUC,SAAS,GAAG,SAAtB,CAAf,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,oCAAR;AACAD,GAAG,CAACC,GAAJ,CAAQK,uBAAWC,IAAX,EAAR;AACAP,GAAG,CAACC,GAAJ,CAAQ,uBAAR,E,CAEA;;AACA,IAAMO,YAAY,GAAGC,OAAO,CAAC,kBAAD,CAA5B;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,iBAAD,CAA9B;;AACA,IAAME,aAAa,GAAGF,OAAO,CAAC,qBAAD,CAA7B;;AACA,IAAMG,QAAQ,GAAGH,OAAO,CAAC,oBAAD,CAAxB;;AAEAT,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAsBO,YAAtB;AACAR,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBS,cAAtB;AACAV,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBU,aAApB;AACAX,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAwBW,QAAxB;;AAGA,eAAaH,OAAO,CAAC,aAAD,CAApB;AAAA,IAAOI,EAAP,YAAOA,EAAP;;AAIAb,GAAG,CAACc,IAAJ,CAAS,eAAT,EAA0B,UAACC,GAAD,EAAKC,GAAL,EAAa;AACnC,kBAA+BD,GAAG,CAACE,IAAnC;AAAA,MAAOC,KAAP,aAAOA,KAAP;AAAA,MAAaC,KAAb,aAAaA,KAAb;AAAA,MAAmBC,QAAnB,aAAmBA,QAAnB;;AACAC,qBAAOC,IAAP,CAAYF,QAAZ,EAAsB,EAAtB,EAA0BG,IAA1B;AAAA,uEAAgC,iBAAOD,IAAP;AAAA;AAAA;AAAA;AAAA;AAChCT,cAAAA,EAAE,CAACW,KAAH,CAAS,oEAAT,EAA8E,CAACN,KAAD,EAAOC,KAAP,EAAaG,IAAb,EAAkB,CAAlB,CAA9E,EAAmG,UAACG,GAAD,EAAKC,MAAL,EAAc;AACzG,oBAAGD,GAAH,EAAO;AACHE,kBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAT,kBAAAA,GAAG,CAACT,IAAJ,CAAS;AAACsB,oBAAAA,KAAK,EAACJ;AAAP,mBAAT;AACH,iBAHD,MAII;AAEAT,kBAAAA,GAAG,CAACT,IAAJ,CAAS;AAACuB,oBAAAA,OAAO,EAAC;AAAT,mBAAT;AACH;AACJ,eATL;;AADgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhC;;AAAA;AAAA;AAAA;AAAA;AAcH,CAhBD;AAkBA;;AACA9B,GAAG,CAACc,IAAJ,CAAS,YAAT,EAAuB,UAACC,GAAD,EAAKC,GAAL,EAAY;AAE/B,mBAA+BD,GAAG,CAACE,IAAnC;AAAA,MAAQc,QAAR,cAAQA,QAAR;AAAA,MAAkBX,QAAlB,cAAkBA,QAAlB;AACAP,EAAAA,EAAE,CAACW,KAAH,CAAU,6CAAV,EAAwD,CAACO,QAAD,CAAxD,EAAoE,UAACN,GAAD,EAAKC,MAAL,EAAe;AAC/E,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMO,IAAI,GAAGN,MAAM,CAAC,CAAD,CAAnB;;AACA,UAAI,CAACM,IAAL,EAAW;AACPhB,QAAAA,GAAG,CAACT,IAAJ,CAAS;AAAEsB,UAAAA,KAAK,EAAE;AAAT,SAAT;AACH,OAFD,MAII;AACIR,2BAAOY,OAAP,CAAeb,QAAf,EAAyBY,IAAI,CAACE,QAA9B,EAAwCX,IAAxC,CAA6C,UAACY,KAAD,EAAW;AAExD,cAAI,CAACA,KAAL,EACA;AAEInB,YAAAA,GAAG,CAACT,IAAJ,CAAS;AAACsB,cAAAA,KAAK,EAAC;AAAP,aAAT;AAEH,WALD,MAOI;AAEA,gBAAMO,WAAW,GAAG,wBAAK;AAACL,cAAAA,QAAQ,EAACC,IAAI,CAACK,IAAf;AAAoBC,cAAAA,GAAG,EAACN,IAAI,CAACM,GAA7B;AAAiCC,cAAAA,WAAW,EAACP,IAAI,CAACO;AAAlD,aAAL,EAAqE,cAArE,CAApB;AAEAvB,YAAAA,GAAG,CAACT,IAAJ,CAAS;AAAC6B,cAAAA,WAAW,EAAEA;AAAd,aAAT;AACH;AAEZ,SAhBW;AAkBf;AAGI;AACJ,GAjCD;AAqCH,CAxCD;AA2CA;;AACApC,GAAG,CAACwC,GAAJ,CAAQ,aAAR,EAAsBC,6BAAtB,EAAoC,UAAC1B,GAAD,EAAKC,GAAL,EAAW;AAC3CA,EAAAA,GAAG,CAACT,IAAJ,CAASQ,GAAG,CAACiB,IAAb;AACH,CAFD;AAOAhC,GAAG,CAAC0C,MAAJ,CAAW,IAAX,EAAgB;AAAA,SAAMf,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAN;AAAA,CAAhB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\src\\","sourcesContent":["import express from \"express\";\r\nimport fileUpload from \"express-fileupload\";\r\nimport bodyParser from \"body-parser\";\r\n\r\nimport cors from 'cors';\r\nimport bcrypt from 'bcrypt';\r\nimport {sign} from 'jsonwebtoken';\r\nimport path from 'path';\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(express.static(path.join(__dirname + '/public')));\r\napp.use(fileUpload());\r\napp.use(bodyParser.json());\r\napp.use(cors());\r\n\r\n// Routers \r\nconst eventsRouter = require(\"../routes/Events\");\r\nconst userManagement = require(\"../routes/Users\");\r\nconst advManagement = require(\"../routes/Advertise\");\r\nconst comments = require(\"../routes/Comments\");\r\n\r\napp.use(\"/api/events\",eventsRouter);\r\napp.use(\"/api/users\", userManagement);\r\napp.use(\"/api/adv\", advManagement);\r\napp.use(\"/api/comments\",comments);\r\n\r\n\r\nconst {db} = require(\"../database\");\r\n\r\n\r\n\r\napp.post('/api/register', (req,res) => {\r\n    const {uname,email,password} = req.body;\r\n    bcrypt.hash(password, 10).then( async (hash) => {\r\n    db.query(\"Insert into user (name,email,password,accesslevel) value (?,?,?,?)\",[uname,email,hash,1],(err,result)=>{\r\n            if(err){\r\n                console.log(err);\r\n                res.json({error:err});\r\n            }\r\n            else{\r\n                \r\n                res.json({success:\"success\"});\r\n            }\r\n        }); \r\n    });\r\n    \r\n    \r\n});\r\n\r\n/* login function */\r\napp.post(\"/api/login\", (req,res) =>{\r\n\r\n    const { username, password } = req.body;\r\n    db.query( \"Select * from user where email = ? limit 1 \",[username], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const user = result[0];\r\n            if (!user) {\r\n                res.json({ error: \"Username doesn't exist\"});\r\n            }\r\n            \r\n            else{\r\n                    bcrypt.compare(password, user.Password).then((match) => {\r\n\r\n                    if (!match)\r\n                    {\r\n                    \r\n                        res.json({error:\"Wrong username and password\"});\r\n\r\n                    }\r\n\r\n                    else{\r\n\r\n                        const accessToken = sign({username:user.Name,uid:user.uid,accesslevel:user.accesslevel}, \"secretSarita\");\r\n\r\n                        res.json({accessToken: accessToken});\r\n                    }\r\n\r\n        });\r\n        \r\n    }\r\n            \r\n            \r\n        }\r\n    });\r\n\r\n    \r\n   \r\n});\r\n\r\n\r\n/* check authincated or not */\r\napp.get(\"/api/authOR\",validateToken,(req,res)=>{\r\n    res.json(req.user);\r\n})\r\n\r\n\r\n\r\n\r\napp.listen(8000,() => console.log(\"Listening on port 8000\"));"]}},"mtime":1653479998819},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\middleware\\\\AuthMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _require = require('jsonwebtoken'),\n    verify = _require.verify;\n\nvar validateToken = function validateToken(req, res, next) {\n  var accessToken = req.header(\"accessToken\");\n\n  if (!accessToken) {\n    return res.json({\n      error: \"User not logged in\"\n    });\n  }\n\n  try {\n    var validToken = verify(accessToken, \"secretSarita\");\n    req.user = validToken;\n\n    if (validToken) {\n      return next();\n    }\n  } catch (err) {\n    return res.json({\n      error: err\n    });\n  }\n};\n\nmodule.exports = {\n  validateToken: validateToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ2ZXJpZnkiLCJ2YWxpZGF0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImFjY2Vzc1Rva2VuIiwiaGVhZGVyIiwianNvbiIsImVycm9yIiwidmFsaWRUb2tlbiIsInVzZXIiLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLGVBQWlCQSxPQUFPLENBQUMsY0FBRCxDQUF4QjtBQUFBLElBQU9DLE1BQVAsWUFBT0EsTUFBUDs7QUFDQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW1CO0FBQ3JDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsYUFBWCxDQUFwQjs7QUFFQSxNQUFHLENBQUNELFdBQUosRUFBZ0I7QUFDWixXQUFPRixHQUFHLENBQUNJLElBQUosQ0FBUztBQUFDQyxNQUFBQSxLQUFLLEVBQUU7QUFBUixLQUFULENBQVA7QUFFSDs7QUFFRCxNQUFHO0FBQ0MsUUFBTUMsVUFBVSxHQUFFVCxNQUFNLENBQUNLLFdBQUQsRUFBYSxjQUFiLENBQXhCO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixHQUFXRCxVQUFYOztBQUNBLFFBQUlBLFVBQUosRUFBZTtBQUNYLGFBQU9MLElBQUksRUFBWDtBQUNIO0FBQ0osR0FORCxDQU1DLE9BQU1PLEdBQU4sRUFBVTtBQUVQLFdBQU9SLEdBQUcsQ0FBQ0ksSUFBSixDQUFTO0FBQUNDLE1BQUFBLEtBQUssRUFBQ0c7QUFBUCxLQUFULENBQVA7QUFFSDtBQUNKLENBbkJEOztBQXFCQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUNaLEVBQUFBLGFBQWEsRUFBYkE7QUFBRCxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxcbWlkZGxld2FyZVxcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge3ZlcmlmeX0gPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuY29uc3QgdmFsaWRhdGVUb2tlbiA9IChyZXEsIHJlcywgbmV4dCk9PiB7XHJcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5oZWFkZXIoXCJhY2Nlc3NUb2tlblwiKTtcclxuXHJcbiAgICBpZighYWNjZXNzVG9rZW4pe1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7ZXJyb3I6IFwiVXNlciBub3QgbG9nZ2VkIGluXCJ9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHZhbGlkVG9rZW49IHZlcmlmeShhY2Nlc3NUb2tlbixcInNlY3JldFNhcml0YVwiKTtcclxuICAgICAgICByZXEudXNlciA9IHZhbGlkVG9rZW47XHJcbiAgICAgICAgaWYgKHZhbGlkVG9rZW4pe1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1jYXRjaChlcnIpe1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oe2Vycm9yOmVycn0pO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7dmFsaWRhdGVUb2tlbn07Il19","map":{"version":3,"sources":["AuthMiddleware.js"],"names":["require","verify","validateToken","req","res","next","accessToken","header","json","error","validToken","user","err","module","exports"],"mappings":";;AAAA,eAAiBA,OAAO,CAAC,cAAD,CAAxB;AAAA,IAAOC,MAAP,YAAOA,MAAP;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AACrC,MAAMC,WAAW,GAAGH,GAAG,CAACI,MAAJ,CAAW,aAAX,CAApB;;AAEA,MAAG,CAACD,WAAJ,EAAgB;AACZ,WAAOF,GAAG,CAACI,IAAJ,CAAS;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAT,CAAP;AAEH;;AAED,MAAG;AACC,QAAMC,UAAU,GAAET,MAAM,CAACK,WAAD,EAAa,cAAb,CAAxB;AACAH,IAAAA,GAAG,CAACQ,IAAJ,GAAWD,UAAX;;AACA,QAAIA,UAAJ,EAAe;AACX,aAAOL,IAAI,EAAX;AACH;AACJ,GAND,CAMC,OAAMO,GAAN,EAAU;AAEP,WAAOR,GAAG,CAACI,IAAJ,CAAS;AAACC,MAAAA,KAAK,EAACG;AAAP,KAAT,CAAP;AAEH;AACJ,CAnBD;;AAqBAC,MAAM,CAACC,OAAP,GAAiB;AAACZ,EAAAA,aAAa,EAAbA;AAAD,CAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\middleware\\","sourcesContent":["const {verify} = require('jsonwebtoken');\r\nconst validateToken = (req, res, next)=> {\r\n    const accessToken = req.header(\"accessToken\");\r\n\r\n    if(!accessToken){\r\n        return res.json({error: \"User not logged in\"});\r\n\r\n    }\r\n\r\n    try{\r\n        const validToken= verify(accessToken,\"secretSarita\");\r\n        req.user = validToken;\r\n        if (validToken){\r\n            return next();\r\n        }\r\n    }catch(err){\r\n\r\n        return res.json({error:err});\r\n\r\n    }\r\n}\r\n\r\nmodule.exports = {validateToken};"]}},"mtime":1652602494987},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Events.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\nrouter.get(\"/\", function (req, res) {\n  db.query(\"Select * from campaign where approve = 1\", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/notapproved\", function (req, res) {\n  db.query(\"Select * from campaign where approve = 0 \", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      res.json(camp);\n    }\n  });\n});\nrouter.get(\"/listmypost\", _AuthMiddleware.validateToken, function (req, res) {\n  var uid = req.user.uid;\n  db.query(\"Select * from campaign where uid = ? \", [uid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/approve/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Update campaign SET approve = 1  where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/reject/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Update campaign SET approve = 2  where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/deleteCampaign/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Delete from campaign where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.post('/createEvent', _AuthMiddleware.validateToken, function (req, res) {\n  var title = req.body.title;\n  var category = req.body.category;\n  var date = req.body.date;\n  var location = req.body.location;\n  var description = req.body.description;\n  var uid = req.user.uid;\n  var file = req.files.file;\n  var filename = '';\n  console.log(req.body);\n\n  if (req.files === null) {\n    ferror = \"nofile\";\n  } else {\n    var ts = Date.now();\n    filename = \"events\" + ts + file.name;\n    file.mv(\"\".concat(__dirname, \"/../src/public/uploads/\").concat(filename), function (err) {\n      if (err) {\n        console.error(err);\n        return res.status(500).send(err);\n      }\n    });\n  }\n\n  db.query(\"Insert into campaign (cname,category,description,location,date,image,uid) value (?,?,?,?,?,?,?)\", [title, category, description, location, date, filename, uid], function (err, result) {\n    if (err) {\n      console.log(err);\n      res.json({\n        error: err\n      });\n    } else {\n      res.json({\n        success: \"success\"\n      });\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50cy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicmVxdWlyZSIsImRiIiwiZ2V0IiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2FtcCIsImpzb24iLCJ2YWxpZGF0ZVRva2VuIiwidWlkIiwidXNlciIsImlkIiwicGFyYW1zIiwicG9zdCIsInRpdGxlIiwiYm9keSIsImNhdGVnb3J5IiwiZGF0ZSIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJmaWxlIiwiZmlsZXMiLCJmaWxlbmFtZSIsImZlcnJvciIsInRzIiwiRGF0ZSIsIm5vdyIsIm5hbWUiLCJtdiIsIl9fZGlybmFtZSIsImVycm9yIiwic3RhdHVzIiwic2VuZCIsInN1Y2Nlc3MiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBR0EsSUFBTUEsTUFBTSxHQUFFQyxvQkFBUUMsTUFBUixFQUFkOztBQUNBLGVBQWFDLE9BQU8sQ0FBQyxhQUFELENBQXBCO0FBQUEsSUFBT0MsRUFBUCxZQUFPQSxFQUFQOztBQUVBSixNQUFNLENBQUNLLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLFVBQUNDLEdBQUQsRUFBS0MsR0FBTCxFQUFXO0FBQ3ZCSCxFQUFBQSxFQUFFLENBQUNJLEtBQUgsQ0FBVSwwQ0FBVixFQUFzRCxVQUFDQyxHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNqRSxRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDSCxLQUZELE1BR0k7QUFDQSxVQUFNSSxJQUFJLEdBQUdILE1BQWI7QUFFQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVo7QUFFQSxhQUFPTixHQUFHLENBQUNPLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBR0g7QUFDSixHQWJEO0FBa0JILENBbkJEO0FBcUJBYixNQUFNLENBQUNLLEdBQVAs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QSxRQUFRLEdBQUMsV0FBU0UsRUFBVCxHQUFZSixJQUFJLENBQUNPLElBQTFCO0FBRURQLElBQUFBLElBQUksQ0FBQ1EsRUFBTCxXQUFXQyxTQUFYLG9DQUE4Q1AsUUFBOUMsR0FBMEQsVUFBQXBCLEdBQUcsRUFBSTtBQUM3RCxVQUFJQSxHQUFKLEVBQVE7QUFDSkUsUUFBQUEsT0FBTyxDQUFDMEIsS0FBUixDQUFjNUIsR0FBZDtBQUNBLGVBQU9GLEdBQUcsQ0FBQytCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjlCLEdBQXJCLENBQVA7QUFDSDtBQUVKLEtBTkQ7QUFRSDs7QUFFREwsRUFBQUEsRUFBRSxDQUFDSSxLQUFILENBQVMsaUdBQVQsRUFBMkcsQ0FBQ2EsS0FBRCxFQUFPRSxRQUFQLEVBQWdCRyxXQUFoQixFQUE0QkQsUUFBNUIsRUFBcUNELElBQXJDLEVBQTBDSyxRQUExQyxFQUFtRGIsR0FBbkQsQ0FBM0csRUFBbUssVUFBQ1AsR0FBRCxFQUFLQyxNQUFMLEVBQWM7QUFDN0ssUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0FGLE1BQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUN1QixRQUFBQSxLQUFLLEVBQUM1QjtBQUFQLE9BQVQ7QUFDSCxLQUhELE1BSUk7QUFDQUYsTUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBQzBCLFFBQUFBLE9BQU8sRUFBQztBQUFULE9BQVQ7QUFDSDtBQUNKLEdBUkQ7QUFZSCxDQTNDRDtBQWdEQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCMUMsTUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxnYWlyZVxcT25lRHJpdmVcXERlc2t0b3BcXHNvY2lhbGF3YXJuZXNzXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHt2YWxpZGF0ZVRva2VufSBmcm9tICcuLi9taWRkbGV3YXJlL0F1dGhNaWRkbGV3YXJlJztcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPWV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHtkYn0gPSByZXF1aXJlKFwiLi4vZGF0YWJhc2VcIik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL1wiLCAocmVxLHJlcyk9PntcclxuICAgIGRiLnF1ZXJ5KCBcIlNlbGVjdCAqIGZyb20gY2FtcGFpZ24gd2hlcmUgYXBwcm92ZSA9IDFcIiwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL25vdGFwcHJvdmVkXCIsIChyZXEscmVzKT0+e1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSBjYW1wYWlnbiB3aGVyZSBhcHByb3ZlID0gMCBcIiwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXMuanNvbihjYW1wKVxyXG5cclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5cclxucm91dGVyLmdldChcIi9saXN0bXlwb3N0XCIsdmFsaWRhdGVUb2tlbiwgKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCB1aWQgPSByZXEudXNlci51aWQ7XHJcbiAgICBkYi5xdWVyeSggXCJTZWxlY3QgKiBmcm9tIGNhbXBhaWduIHdoZXJlIHVpZCA9ID8gXCIsW3VpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG59KVxyXG5cclxucm91dGVyLmdldChcIi9hcHByb3ZlLzppZFwiLCAocmVxLHJlcyk9PntcclxuICAgIFxyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgZGIucXVlcnkoIFwiVXBkYXRlIGNhbXBhaWduIFNFVCBhcHByb3ZlID0gMSAgd2hlcmUgY21pZCA9ID8gXCIsW2lkXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG59KVxyXG5cclxucm91dGVyLmdldChcIi9yZWplY3QvOmlkXCIsIChyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBkYi5xdWVyeSggXCJVcGRhdGUgY2FtcGFpZ24gU0VUIGFwcHJvdmUgPSAyICB3aGVyZSBjbWlkID0gPyBcIixbaWRdLCAoZXJyLHJlc3VsdCkgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5nZXQoXCIvZGVsZXRlQ2FtcGFpZ24vOmlkXCIsIChyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBkYi5xdWVyeSggXCJEZWxldGUgZnJvbSBjYW1wYWlnbiB3aGVyZSBjbWlkID0gPyBcIixbaWRdLCAoZXJyLHJlc3VsdCkgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5wb3N0KCcvY3JlYXRlRXZlbnQnLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgdGl0bGUgPSByZXEuYm9keS50aXRsZTtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XHJcbiAgICBjb25zdCBkYXRlID0gcmVxLmJvZHkuZGF0ZTtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gcmVxLmJvZHkubG9jYXRpb247XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG4gICAgY29uc3QgdWlkID0gcmVxLnVzZXIudWlkO1xyXG5cclxuICAgIGNvbnN0IGZpbGUgPSByZXEuZmlsZXMuZmlsZTtcclxuICAgIGxldCBmaWxlbmFtZSA9ICcnO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGlmKHJlcS5maWxlcyA9PT0gbnVsbCl7XHJcbiAgICAgICAgZmVycm9yID0gXCJub2ZpbGVcIjtcclxuICAgIH1cclxuXHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCB0cyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgICBmaWxlbmFtZT1cImV2ZW50c1wiK3RzK2ZpbGUubmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBmaWxlLm12KGAke19fZGlybmFtZX0vLi4vc3JjL3B1YmxpYy91cGxvYWRzLyR7ZmlsZW5hbWV9YCwgZXJyID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGIucXVlcnkoXCJJbnNlcnQgaW50byBjYW1wYWlnbiAoY25hbWUsY2F0ZWdvcnksZGVzY3JpcHRpb24sbG9jYXRpb24sZGF0ZSxpbWFnZSx1aWQpIHZhbHVlICg/LD8sPyw/LD8sPyw/KVwiLFt0aXRsZSxjYXRlZ29yeSxkZXNjcmlwdGlvbixsb2NhdGlvbixkYXRlLGZpbGVuYW1lLHVpZF0sKGVycixyZXN1bHQpPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgcmVzLmpzb24oe2Vycm9yOmVycn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXMuanNvbih7c3VjY2VzczpcInN1Y2Nlc3NcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==","map":{"version":3,"sources":["Events.js"],"names":["router","express","Router","require","db","get","req","res","query","err","result","console","log","camp","json","validateToken","uid","user","id","params","post","title","body","category","date","location","description","file","files","filename","ferror","ts","Date","now","name","mv","__dirname","error","status","send","success","module","exports"],"mappings":"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","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\nrouter.get(\"/\", (req,res)=>{\r\n    db.query( \"Select * from campaign where approve = 1\", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/notapproved\", (req,res)=>{\r\n    db.query( \"Select * from campaign where approve = 0 \", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            res.json(camp)\r\n\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\nrouter.get(\"/listmypost\",validateToken, (req,res)=>{\r\n    const uid = req.user.uid;\r\n    db.query( \"Select * from campaign where uid = ? \",[uid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/approve/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Update campaign SET approve = 1  where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n            \r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/reject/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Update campaign SET approve = 2  where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/deleteCampaign/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Delete from campaign where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.post('/createEvent',validateToken, (req,res)=>{\r\n    const title = req.body.title;\r\n    const category = req.body.category;\r\n    const date = req.body.date;\r\n    const location = req.body.location;\r\n    const description = req.body.description;\r\n    const uid = req.user.uid;\r\n\r\n    const file = req.files.file;\r\n    let filename = '';\r\n\r\n    console.log(req.body);\r\n    if(req.files === null){\r\n        ferror = \"nofile\";\r\n    }\r\n\r\n    else{\r\n        let ts = Date.now();\r\n\r\n         filename=\"events\"+ts+file.name;\r\n        \r\n        file.mv(`${__dirname}/../src/public/uploads/${filename}`, err => {\r\n            if (err){\r\n                console.error(err);\r\n                return res.status(500).send(err);\r\n            }\r\n            \r\n        });\r\n\r\n    }\r\n\r\n    db.query(\"Insert into campaign (cname,category,description,location,date,image,uid) value (?,?,?,?,?,?,?)\",[title,category,description,location,date,filename,uid],(err,result)=>{\r\n        if(err){\r\n            console.log(err);\r\n            res.json({error:err});\r\n        }\r\n        else{\r\n            res.json({success:\"success\"});\r\n        }\r\n    });\r\n    \r\n    \r\n    \r\n});\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653299355596},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar db = _mysql[\"default\"].createPool({\n  connectionLimit: 4,\n  host: \"localhost\",\n  user: \"root\",\n  password: \"12345\",\n  database: \"socialdb\"\n});\n\ndb.getConnection(function (err, connection) {\n  if (err) throw err;\n  console.log('Database connected successfully');\n  connection.release();\n});\nmodule.exports = {\n  db: db\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbImRiIiwibXlzcWwiLCJjcmVhdGVQb29sIiwiY29ubmVjdGlvbkxpbWl0IiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiZ2V0Q29ubmVjdGlvbiIsImVyciIsImNvbm5lY3Rpb24iLCJjb25zb2xlIiwibG9nIiwicmVsZWFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFHQSxJQUFJQSxFQUFFLEdBQUdDLGtCQUFNQyxVQUFOLENBQWlCO0FBQ3hCQyxFQUFBQSxlQUFlLEVBQUMsQ0FEUTtBQUV4QkMsRUFBQUEsSUFBSSxFQUFFLFdBRmtCO0FBR3hCQyxFQUFBQSxJQUFJLEVBQUUsTUFIa0I7QUFJeEJDLEVBQUFBLFFBQVEsRUFBRSxPQUpjO0FBS3hCQyxFQUFBQSxRQUFRLEVBQUM7QUFMZSxDQUFqQixDQUFUOztBQVFBUCxFQUFFLENBQUNRLGFBQUgsQ0FBaUIsVUFBQ0MsR0FBRCxFQUFLQyxVQUFMLEVBQW1CO0FBQ2xDLE1BQUdELEdBQUgsRUFDQSxNQUFNQSxHQUFOO0FBQ0FFLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlDQUFaO0FBQ0FGLEVBQUFBLFVBQVUsQ0FBQ0csT0FBWDtBQUNELENBTEQ7QUFPQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUNmLEVBQUFBLEVBQUUsRUFBRkE7QUFBRCxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gXCJteXNxbFwiO1xyXG5cclxuXHJcbnZhciBkYiA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG4gIGNvbm5lY3Rpb25MaW1pdDo0LFxyXG4gIGhvc3Q6IFwibG9jYWxob3N0XCIsXHJcbiAgdXNlcjogXCJyb290XCIsXHJcbiAgcGFzc3dvcmQ6IFwiMTIzNDVcIixcclxuICBkYXRhYmFzZTpcInNvY2lhbGRiXCJcclxufSk7XHJcblxyXG5kYi5nZXRDb25uZWN0aW9uKChlcnIsY29ubmVjdGlvbik9PiB7XHJcbiAgaWYoZXJyKVxyXG4gIHRocm93IGVycjtcclxuICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge2RifTsiXX0=","map":{"version":3,"sources":["database.js"],"names":["db","mysql","createPool","connectionLimit","host","user","password","database","getConnection","err","connection","console","log","release","module","exports"],"mappings":";;AAAA;;;;AAGA,IAAIA,EAAE,GAAGC,kBAAMC,UAAN,CAAiB;AACxBC,EAAAA,eAAe,EAAC,CADQ;AAExBC,EAAAA,IAAI,EAAE,WAFkB;AAGxBC,EAAAA,IAAI,EAAE,MAHkB;AAIxBC,EAAAA,QAAQ,EAAE,OAJc;AAKxBC,EAAAA,QAAQ,EAAC;AALe,CAAjB,CAAT;;AAQAP,EAAE,CAACQ,aAAH,CAAiB,UAACC,GAAD,EAAKC,UAAL,EAAmB;AAClC,MAAGD,GAAH,EACA,MAAMA,GAAN;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACAF,EAAAA,UAAU,CAACG,OAAX;AACD,CALD;AAOAC,MAAM,CAACC,OAAP,GAAiB;AAACf,EAAAA,EAAE,EAAFA;AAAD,CAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\","sourcesContent":["import mysql from \"mysql\";\r\n\r\n\r\nvar db = mysql.createPool({\r\n  connectionLimit:4,\r\n  host: \"localhost\",\r\n  user: \"root\",\r\n  password: \"12345\",\r\n  database:\"socialdb\"\r\n});\r\n\r\ndb.getConnection((err,connection)=> {\r\n  if(err)\r\n  throw err;\r\n  console.log('Database connected successfully');\r\n  connection.release();\r\n});\r\n\r\nmodule.exports = {db};"]}},"mtime":1653462347897},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db; // List all users\n\n\nrouter.get(\"/listusers\", _AuthMiddleware.validateToken, function (req, res) {\n  db.query(\"Select * from user \", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n}); // change access level\n\nrouter.get(\"/level/:id/:access\", function (req, res) {\n  var id = req.params.id;\n  var access = req.params.access;\n  db.query(\"Update user SET accesslevel = ?  where uid = ? \", [access, id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/current\", _AuthMiddleware.validateToken, function (req, res) {\n  var uid = req.user.uid;\n  db.query(\"Select * from user where uid = ? \", [uid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyZXF1aXJlIiwiZGIiLCJnZXQiLCJ2YWxpZGF0ZVRva2VuIiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2FtcCIsImpzb24iLCJpZCIsInBhcmFtcyIsImFjY2VzcyIsInVpZCIsInVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBR0EsSUFBTUEsTUFBTSxHQUFFQyxvQkFBUUMsTUFBUixFQUFkOztBQUNBLGVBQWFDLE9BQU8sQ0FBQyxhQUFELENBQXBCO0FBQUEsSUFBT0MsRUFBUCxZQUFPQSxFQUFQLEMsQ0FHQTs7O0FBQ0FKLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFlBQVgsRUFBd0JDLDZCQUF4QixFQUF1QyxVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUU5Q0osRUFBQUEsRUFBRSxDQUFDSyxLQUFILENBQVUscUJBQVYsRUFBaUMsVUFBQ0MsR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDNUMsUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTUksSUFBSSxHQUFHSCxNQUFiO0FBRUFDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaO0FBRUEsYUFBT04sR0FBRyxDQUFDTyxJQUFKLENBQVNELElBQVQsQ0FBUDtBQUdIO0FBQ0osR0FiRDtBQWdCSCxDQWxCRCxFLENBcUJBOztBQUNBZCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDRSxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUV4QyxNQUFNUSxFQUFFLEdBQUdULEdBQUcsQ0FBQ1UsTUFBSixDQUFXRCxFQUF0QjtBQUNBLE1BQU1FLE1BQU0sR0FBR1gsR0FBRyxDQUFDVSxNQUFKLENBQVdDLE1BQTFCO0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ0ssS0FBSCxDQUFVLGlEQUFWLEVBQTRELENBQUNTLE1BQUQsRUFBUUYsRUFBUixDQUE1RCxFQUF5RSxVQUFDTixHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNwRixRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFFSCxLQUhELE1BSUk7QUFDQSxVQUFNSSxJQUFJLEdBQUdILE1BQWI7QUFFQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVo7QUFFQSxhQUFPTixHQUFHLENBQUNPLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBR0g7QUFDSixHQWREO0FBaUJILENBckJEO0FBdUJBZCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxVQUFYLEVBQXNCQyw2QkFBdEIsRUFBcUMsVUFBQ0MsR0FBRCxFQUFLQyxHQUFMLEVBQVc7QUFDNUMsTUFBTVcsR0FBRyxHQUFHWixHQUFHLENBQUNhLElBQUosQ0FBU0QsR0FBckI7QUFDQWYsRUFBQUEsRUFBRSxDQUFDSyxLQUFILENBQVUsbUNBQVYsRUFBOEMsQ0FBQ1UsR0FBRCxDQUE5QyxFQUFxRCxVQUFDVCxHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNoRSxRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDSCxLQUZELE1BR0k7QUFDQSxVQUFNSSxJQUFJLEdBQUdILE1BQWI7QUFFQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVo7QUFFQSxhQUFPTixHQUFHLENBQUNPLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBR0g7QUFDSixHQWJEO0FBZ0JILENBbEJEO0FBMkJBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ0QixNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge3ZhbGlkYXRlVG9rZW59IGZyb20gJy4uL21pZGRsZXdhcmUvQXV0aE1pZGRsZXdhcmUnO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3Qge2RifSA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZVwiKTtcclxuXHJcblxyXG4vLyBMaXN0IGFsbCB1c2Vyc1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3R1c2Vyc1wiLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICBcclxuICAgIGRiLnF1ZXJ5KCBcIlNlbGVjdCAqIGZyb20gdXNlciBcIiwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5cclxuLy8gY2hhbmdlIGFjY2VzcyBsZXZlbFxyXG5yb3V0ZXIuZ2V0KFwiL2xldmVsLzppZC86YWNjZXNzXCIsIChyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBhY2Nlc3MgPSByZXEucGFyYW1zLmFjY2VzcztcclxuICAgIGRiLnF1ZXJ5KCBcIlVwZGF0ZSB1c2VyIFNFVCBhY2Nlc3NsZXZlbCA9ID8gIHdoZXJlIHVpZCA9ID8gXCIsW2FjY2VzcyxpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5nZXQoXCIvY3VycmVudFwiLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgdWlkID0gcmVxLnVzZXIudWlkO1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSB1c2VyIHdoZXJlIHVpZCA9ID8gXCIsW3VpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==","map":{"version":3,"sources":["Users.js"],"names":["router","express","Router","require","db","get","validateToken","req","res","query","err","result","console","log","camp","json","id","params","access","uid","user","module","exports"],"mappings":";;AAAA;;AACA;;;;AAGA,IAAMA,MAAM,GAAEC,oBAAQC,MAAR,EAAd;;AACA,eAAaC,OAAO,CAAC,aAAD,CAApB;AAAA,IAAOC,EAAP,YAAOA,EAAP,C,CAGA;;;AACAJ,MAAM,CAACK,GAAP,CAAW,YAAX,EAAwBC,6BAAxB,EAAuC,UAACC,GAAD,EAAKC,GAAL,EAAW;AAE9CJ,EAAAA,EAAE,CAACK,KAAH,CAAU,qBAAV,EAAiC,UAACC,GAAD,EAAKC,MAAL,EAAe;AAC5C,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAgBH,CAlBD,E,CAqBA;;AACAd,MAAM,CAACK,GAAP,CAAW,oBAAX,EAAiC,UAACE,GAAD,EAAKC,GAAL,EAAW;AAExC,MAAMQ,EAAE,GAAGT,GAAG,CAACU,MAAJ,CAAWD,EAAtB;AACA,MAAME,MAAM,GAAGX,GAAG,CAACU,MAAJ,CAAWC,MAA1B;AACAd,EAAAA,EAAE,CAACK,KAAH,CAAU,iDAAV,EAA4D,CAACS,MAAD,EAAQF,EAAR,CAA5D,EAAyE,UAACN,GAAD,EAAKC,MAAL,EAAe;AACpF,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAEH,KAHD,MAII;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAdD;AAiBH,CArBD;AAuBAd,MAAM,CAACK,GAAP,CAAW,UAAX,EAAsBC,6BAAtB,EAAqC,UAACC,GAAD,EAAKC,GAAL,EAAW;AAC5C,MAAMW,GAAG,GAAGZ,GAAG,CAACa,IAAJ,CAASD,GAArB;AACAf,EAAAA,EAAE,CAACK,KAAH,CAAU,mCAAV,EAA8C,CAACU,GAAD,CAA9C,EAAqD,UAACT,GAAD,EAAKC,MAAL,EAAe;AAChE,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAgBH,CAlBD;AA2BAO,MAAM,CAACC,OAAP,GAAiBtB,MAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\n\r\n// List all users\r\nrouter.get(\"/listusers\",validateToken, (req,res)=>{\r\n   \r\n    db.query( \"Select * from user \", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\n// change access level\r\nrouter.get(\"/level/:id/:access\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    const access = req.params.access;\r\n    db.query( \"Update user SET accesslevel = ?  where uid = ? \",[access,id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n            \r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/current\",validateToken, (req,res)=>{\r\n    const uid = req.user.uid;\r\n    db.query( \"Select * from user where uid = ? \",[uid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653205073700},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Advertise.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\nrouter.get(\"/\", function (req, res) {\n  db.query(\"Select * from ad\", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.post('/createAdv', _AuthMiddleware.validateToken, function (req, res) {\n  var title = req.body.title;\n  var description = req.body.description;\n  var file = req.files.file;\n  var filename = '';\n  console.log(req.body);\n\n  if (req.files === null) {\n    ferror = \"nofile\";\n  } else {\n    var ts = Date.now();\n    filename = \"adv\" + ts + file.name;\n    file.mv(\"\".concat(__dirname, \"/../src/public/uploads/\").concat(filename), function (err) {\n      if (err) {\n        console.error(err);\n        return res.status(500).send(err);\n      }\n    });\n  }\n\n  db.query(\"Insert into ad (title,addescription,adimage) value (?,?,?)\", [title, description, filename], function (err, result) {\n    if (err) {\n      console.log(err);\n      res.json({\n        error: err\n      });\n    } else {\n      res.json({\n        success: \"success\"\n      });\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkdmVydGlzZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicmVxdWlyZSIsImRiIiwiZ2V0IiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2FtcCIsImpzb24iLCJwb3N0IiwidmFsaWRhdGVUb2tlbiIsInRpdGxlIiwiYm9keSIsImRlc2NyaXB0aW9uIiwiZmlsZSIsImZpbGVzIiwiZmlsZW5hbWUiLCJmZXJyb3IiLCJ0cyIsIkRhdGUiLCJub3ciLCJuYW1lIiwibXYiLCJfX2Rpcm5hbWUiLCJlcnJvciIsInN0YXR1cyIsInNlbmQiLCJzdWNjZXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUdBLElBQU1BLE1BQU0sR0FBRUMsb0JBQVFDLE1BQVIsRUFBZDs7QUFDQSxlQUFhQyxPQUFPLENBQUMsYUFBRCxDQUFwQjtBQUFBLElBQU9DLEVBQVAsWUFBT0EsRUFBUDs7QUFFQUosTUFBTSxDQUFDSyxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUN2QkgsRUFBQUEsRUFBRSxDQUFDSSxLQUFILENBQVUsa0JBQVYsRUFBOEIsVUFBQ0MsR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDekMsUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTUksSUFBSSxHQUFHSCxNQUFiO0FBRUFDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaO0FBRUEsYUFBT04sR0FBRyxDQUFDTyxJQUFKLENBQVNELElBQVQsQ0FBUDtBQUdIO0FBQ0osR0FiRDtBQWtCSCxDQW5CRDtBQXdCQWIsTUFBTSxDQUFDZSxJQUFQLENBQVksWUFBWixFQUF5QkMsNkJBQXpCLEVBQXdDLFVBQUNWLEdBQUQsRUFBS0MsR0FBTCxFQUFXO0FBQy9DLE1BQU1VLEtBQUssR0FBR1gsR0FBRyxDQUFDWSxJQUFKLENBQVNELEtBQXZCO0FBQ0EsTUFBTUUsV0FBVyxHQUFHYixHQUFHLENBQUNZLElBQUosQ0FBU0MsV0FBN0I7QUFFQSxNQUFNQyxJQUFJLEdBQUdkLEdBQUcsQ0FBQ2UsS0FBSixDQUFVRCxJQUF2QjtBQUNBLE1BQUlFLFFBQVEsR0FBRyxFQUFmO0FBRUFYLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTixHQUFHLENBQUNZLElBQWhCOztBQUNBLE1BQUdaLEdBQUcsQ0FBQ2UsS0FBSixLQUFjLElBQWpCLEVBQXNCO0FBQ2xCRSxJQUFBQSxNQUFNLEdBQUcsUUFBVDtBQUNILEdBRkQsTUFJSTtBQUNBLFFBQUlDLEVBQUUsR0FBR0MsSUFBSSxDQUFDQyxHQUFMLEVBQVQ7QUFFQ0osSUFBQUEsUUFBUSxHQUFDLFFBQU1FLEVBQU4sR0FBU0osSUFBSSxDQUFDTyxJQUF2QjtBQUVEUCxJQUFBQSxJQUFJLENBQUNRLEVBQUwsV0FBV0MsU0FBWCxvQ0FBOENQLFFBQTlDLEdBQTBELFVBQUFiLEdBQUcsRUFBSTtBQUM3RCxVQUFJQSxHQUFKLEVBQVE7QUFDSkUsUUFBQUEsT0FBTyxDQUFDbUIsS0FBUixDQUFjckIsR0FBZDtBQUNBLGVBQU9GLEdBQUcsQ0FBQ3dCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQnZCLEdBQXJCLENBQVA7QUFDSDtBQUVKLEtBTkQ7QUFRSDs7QUFFREwsRUFBQUEsRUFBRSxDQUFDSSxLQUFILENBQVMsNERBQVQsRUFBc0UsQ0FBQ1MsS0FBRCxFQUFPRSxXQUFQLEVBQW1CRyxRQUFuQixDQUF0RSxFQUFtRyxVQUFDYixHQUFELEVBQUtDLE1BQUwsRUFBYztBQUM3RyxRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDQUYsTUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBQ2dCLFFBQUFBLEtBQUssRUFBQ3JCO0FBQVAsT0FBVDtBQUNILEtBSEQsTUFJSTtBQUNBRixNQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFDbUIsUUFBQUEsT0FBTyxFQUFDO0FBQVQsT0FBVDtBQUNIO0FBQ0osR0FSRDtBQVlILENBdkNEO0FBNENBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJuQyxNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge3ZhbGlkYXRlVG9rZW59IGZyb20gJy4uL21pZGRsZXdhcmUvQXV0aE1pZGRsZXdhcmUnO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3Qge2RifSA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZVwiKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIChyZXEscmVzKT0+e1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSBhZFwiLCAoZXJyLHJlc3VsdCkgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuXHJcbiAgICBcclxufSlcclxuXHJcblxyXG5cclxuXHJcbnJvdXRlci5wb3N0KCcvY3JlYXRlQWR2Jyx2YWxpZGF0ZVRva2VuLCAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHRpdGxlID0gcmVxLmJvZHkudGl0bGU7XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG5cclxuICAgIGNvbnN0IGZpbGUgPSByZXEuZmlsZXMuZmlsZTtcclxuICAgIGxldCBmaWxlbmFtZSA9ICcnO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgIGlmKHJlcS5maWxlcyA9PT0gbnVsbCl7XHJcbiAgICAgICAgZmVycm9yID0gXCJub2ZpbGVcIjtcclxuICAgIH1cclxuXHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCB0cyA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgICBmaWxlbmFtZT1cImFkdlwiK3RzK2ZpbGUubmFtZTtcclxuICAgICAgICBcclxuICAgICAgICBmaWxlLm12KGAke19fZGlybmFtZX0vLi4vc3JjL3B1YmxpYy91cGxvYWRzLyR7ZmlsZW5hbWV9YCwgZXJyID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGIucXVlcnkoXCJJbnNlcnQgaW50byBhZCAodGl0bGUsYWRkZXNjcmlwdGlvbixhZGltYWdlKSB2YWx1ZSAoPyw/LD8pXCIsW3RpdGxlLGRlc2NyaXB0aW9uLGZpbGVuYW1lXSwoZXJyLHJlc3VsdCk9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7ZXJyb3I6ZXJyfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOlwic3VjY2Vzc1wifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19","map":{"version":3,"sources":["Advertise.js"],"names":["router","express","Router","require","db","get","req","res","query","err","result","console","log","camp","json","post","validateToken","title","body","description","file","files","filename","ferror","ts","Date","now","name","mv","__dirname","error","status","send","success","module","exports"],"mappings":";;AAAA;;AACA;;;;AAGA,IAAMA,MAAM,GAAEC,oBAAQC,MAAR,EAAd;;AACA,eAAaC,OAAO,CAAC,aAAD,CAApB;AAAA,IAAOC,EAAP,YAAOA,EAAP;;AAEAJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAKC,GAAL,EAAW;AACvBH,EAAAA,EAAE,CAACI,KAAH,CAAU,kBAAV,EAA8B,UAACC,GAAD,EAAKC,MAAL,EAAe;AACzC,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAkBH,CAnBD;AAwBAb,MAAM,CAACe,IAAP,CAAY,YAAZ,EAAyBC,6BAAzB,EAAwC,UAACV,GAAD,EAAKC,GAAL,EAAW;AAC/C,MAAMU,KAAK,GAAGX,GAAG,CAACY,IAAJ,CAASD,KAAvB;AACA,MAAME,WAAW,GAAGb,GAAG,CAACY,IAAJ,CAASC,WAA7B;AAEA,MAAMC,IAAI,GAAGd,GAAG,CAACe,KAAJ,CAAUD,IAAvB;AACA,MAAIE,QAAQ,GAAG,EAAf;AAEAX,EAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACY,IAAhB;;AACA,MAAGZ,GAAG,CAACe,KAAJ,KAAc,IAAjB,EAAsB;AAClBE,IAAAA,MAAM,GAAG,QAAT;AACH,GAFD,MAII;AACA,QAAIC,EAAE,GAAGC,IAAI,CAACC,GAAL,EAAT;AAECJ,IAAAA,QAAQ,GAAC,QAAME,EAAN,GAASJ,IAAI,CAACO,IAAvB;AAEDP,IAAAA,IAAI,CAACQ,EAAL,WAAWC,SAAX,oCAA8CP,QAA9C,GAA0D,UAAAb,GAAG,EAAI;AAC7D,UAAIA,GAAJ,EAAQ;AACJE,QAAAA,OAAO,CAACmB,KAAR,CAAcrB,GAAd;AACA,eAAOF,GAAG,CAACwB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBvB,GAArB,CAAP;AACH;AAEJ,KAND;AAQH;;AAEDL,EAAAA,EAAE,CAACI,KAAH,CAAS,4DAAT,EAAsE,CAACS,KAAD,EAAOE,WAAP,EAAmBG,QAAnB,CAAtE,EAAmG,UAACb,GAAD,EAAKC,MAAL,EAAc;AAC7G,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAF,MAAAA,GAAG,CAACO,IAAJ,CAAS;AAACgB,QAAAA,KAAK,EAACrB;AAAP,OAAT;AACH,KAHD,MAII;AACAF,MAAAA,GAAG,CAACO,IAAJ,CAAS;AAACmB,QAAAA,OAAO,EAAC;AAAT,OAAT;AACH;AACJ,GARD;AAYH,CAvCD;AA4CAC,MAAM,CAACC,OAAP,GAAiBnC,MAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\nrouter.get(\"/\", (req,res)=>{\r\n    db.query( \"Select * from ad\", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\nrouter.post('/createAdv',validateToken, (req,res)=>{\r\n    const title = req.body.title;\r\n    const description = req.body.description;\r\n\r\n    const file = req.files.file;\r\n    let filename = '';\r\n\r\n    console.log(req.body);\r\n    if(req.files === null){\r\n        ferror = \"nofile\";\r\n    }\r\n\r\n    else{\r\n        let ts = Date.now();\r\n\r\n         filename=\"adv\"+ts+file.name;\r\n        \r\n        file.mv(`${__dirname}/../src/public/uploads/${filename}`, err => {\r\n            if (err){\r\n                console.error(err);\r\n                return res.status(500).send(err);\r\n            }\r\n            \r\n        });\r\n\r\n    }\r\n\r\n    db.query(\"Insert into ad (title,addescription,adimage) value (?,?,?)\",[title,description,filename],(err,result)=>{\r\n        if(err){\r\n            console.log(err);\r\n            res.json({error:err});\r\n        }\r\n        else{\r\n            res.json({success:\"success\"});\r\n        }\r\n    });\r\n    \r\n    \r\n    \r\n});\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653307658870},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Comments.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\nrouter.get(\"/:cmid\", function (req, res) {\n  console.log(\"hello\");\n  var cmid = req.params.cmid;\n  db.query(\"Select c.text,c.uid,c.cid,u.Name from comments c inner join user u  ON c.uid = u.uid where cmid = ?\", [cmid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.post('/createComments', _AuthMiddleware.validateToken, function (req, res) {\n  var cmid = req.body.cmid;\n  var uid = req.user.uid;\n  var comment = req.body.comment;\n  console.log(cmid, uid, comment);\n  db.query(\"Insert into comments (uid,cmid,text) value (?,?,?)\", [uid, cmid, comment], function (err, result) {\n    if (err) {\n      console.log(err);\n      res.json({\n        error: err\n      });\n    } else {\n      res.json({\n        success: \"success\"\n      });\n    }\n  });\n});\nrouter.get(\"/deleteComment/:cid\", function (req, res) {\n  var cid = req.params.cid;\n  db.query(\"Delete from comments where cid = ? \", [cid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbW1lbnRzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyZXF1aXJlIiwiZGIiLCJnZXQiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiY21pZCIsInBhcmFtcyIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0IiwiY2FtcCIsImpzb24iLCJwb3N0IiwidmFsaWRhdGVUb2tlbiIsImJvZHkiLCJ1aWQiLCJ1c2VyIiwiY29tbWVudCIsImVycm9yIiwic3VjY2VzcyIsImNpZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFHQSxJQUFNQSxNQUFNLEdBQUVDLG9CQUFRQyxNQUFSLEVBQWQ7O0FBQ0EsZUFBYUMsT0FBTyxDQUFDLGFBQUQsQ0FBcEI7QUFBQSxJQUFPQyxFQUFQLFlBQU9BLEVBQVA7O0FBRUFKLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFFBQVgsRUFBcUIsVUFBQ0MsR0FBRCxFQUFLQyxHQUFMLEVBQVc7QUFDNUJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVo7QUFDQSxNQUFNQyxJQUFJLEdBQUdKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXRCxJQUF4QjtBQUNBTixFQUFBQSxFQUFFLENBQUNRLEtBQUgsQ0FBVSxxR0FBVixFQUFnSCxDQUFDRixJQUFELENBQWhILEVBQXdILFVBQUNHLEdBQUQsRUFBS0MsTUFBTCxFQUFlO0FBQ25JLFFBQUdELEdBQUgsRUFBTztBQUNITCxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUksR0FBWjtBQUNILEtBRkQsTUFHSTtBQUNBLFVBQU1FLElBQUksR0FBR0QsTUFBYjtBQUVBTixNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWU0sSUFBWjtBQUVBLGFBQU9SLEdBQUcsQ0FBQ1MsSUFBSixDQUFTRCxJQUFULENBQVA7QUFHSDtBQUNKLEdBYkQ7QUFrQkgsQ0FyQkQ7QUEwQkFmLE1BQU0sQ0FBQ2lCLElBQVAsQ0FBWSxpQkFBWixFQUE4QkMsNkJBQTlCLEVBQTZDLFVBQUNaLEdBQUQsRUFBS0MsR0FBTCxFQUFXO0FBQ3BELE1BQU1HLElBQUksR0FBR0osR0FBRyxDQUFDYSxJQUFKLENBQVNULElBQXRCO0FBQ0EsTUFBTVUsR0FBRyxHQUFHZCxHQUFHLENBQUNlLElBQUosQ0FBU0QsR0FBckI7QUFDQSxNQUFNRSxPQUFPLEdBQUdoQixHQUFHLENBQUNhLElBQUosQ0FBU0csT0FBekI7QUFFQWQsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosRUFBaUJVLEdBQWpCLEVBQXFCRSxPQUFyQjtBQUVBbEIsRUFBQUEsRUFBRSxDQUFDUSxLQUFILENBQVMsb0RBQVQsRUFBOEQsQ0FBQ1EsR0FBRCxFQUFLVixJQUFMLEVBQVVZLE9BQVYsQ0FBOUQsRUFBaUYsVUFBQ1QsR0FBRCxFQUFLQyxNQUFMLEVBQWM7QUFDM0YsUUFBR0QsR0FBSCxFQUFPO0FBQ0hMLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxHQUFaO0FBRUFOLE1BQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQUNPLFFBQUFBLEtBQUssRUFBQ1Y7QUFBUCxPQUFUO0FBQ0gsS0FKRCxNQUtJO0FBRUFOLE1BQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQUNRLFFBQUFBLE9BQU8sRUFBQztBQUFULE9BQVQ7QUFDSDtBQUNKLEdBVkQ7QUFjSCxDQXJCRDtBQXVCQXhCLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLHFCQUFYLEVBQWtDLFVBQUNDLEdBQUQsRUFBS0MsR0FBTCxFQUFXO0FBRXpDLE1BQU1rQixHQUFHLEdBQUduQixHQUFHLENBQUNLLE1BQUosQ0FBV2MsR0FBdkI7QUFDQXJCLEVBQUFBLEVBQUUsQ0FBQ1EsS0FBSCxDQUFVLHFDQUFWLEVBQWdELENBQUNhLEdBQUQsQ0FBaEQsRUFBdUQsVUFBQ1osR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDbEUsUUFBR0QsR0FBSCxFQUFPO0FBQ0hMLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSSxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTUUsSUFBSSxHQUFHRCxNQUFiO0FBRUFOLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTSxJQUFaO0FBRUEsYUFBT1IsR0FBRyxDQUFDUyxJQUFKLENBQVNELElBQVQsQ0FBUDtBQUdIO0FBQ0osR0FiRDtBQWdCSCxDQW5CRDtBQXlCQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCM0IsTUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxnYWlyZVxcT25lRHJpdmVcXERlc2t0b3BcXHNvY2lhbGF3YXJuZXNzXFxzZXJ2ZXJcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHt2YWxpZGF0ZVRva2VufSBmcm9tICcuLi9taWRkbGV3YXJlL0F1dGhNaWRkbGV3YXJlJztcclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPWV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IHtkYn0gPSByZXF1aXJlKFwiLi4vZGF0YWJhc2VcIik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiLzpjbWlkXCIsIChyZXEscmVzKT0+e1xyXG4gICAgY29uc29sZS5sb2coXCJoZWxsb1wiKTtcclxuICAgIGNvbnN0IGNtaWQgPSByZXEucGFyYW1zLmNtaWQ7XHJcbiAgICBkYi5xdWVyeSggXCJTZWxlY3QgYy50ZXh0LGMudWlkLGMuY2lkLHUuTmFtZSBmcm9tIGNvbW1lbnRzIGMgaW5uZXIgam9pbiB1c2VyIHUgIE9OIGMudWlkID0gdS51aWQgd2hlcmUgY21pZCA9ID9cIixbY21pZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG5cclxuICAgIFxyXG59KVxyXG5cclxuXHJcblxyXG5cclxucm91dGVyLnBvc3QoJy9jcmVhdGVDb21tZW50cycsdmFsaWRhdGVUb2tlbiwgKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBjbWlkID0gcmVxLmJvZHkuY21pZDtcclxuICAgIGNvbnN0IHVpZCA9IHJlcS51c2VyLnVpZDtcclxuICAgIGNvbnN0IGNvbW1lbnQgPSByZXEuYm9keS5jb21tZW50O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGNtaWQsdWlkLGNvbW1lbnQpO1xyXG5cclxuICAgIGRiLnF1ZXJ5KFwiSW5zZXJ0IGludG8gY29tbWVudHMgKHVpZCxjbWlkLHRleHQpIHZhbHVlICg/LD8sPylcIixbdWlkLGNtaWQsY29tbWVudF0sKGVycixyZXN1bHQpPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtlcnJvcjplcnJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOlwic3VjY2Vzc1wifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pO1xyXG5cclxucm91dGVyLmdldChcIi9kZWxldGVDb21tZW50LzpjaWRcIiwgKHJlcSxyZXMpPT57XHJcbiAgICBcclxuICAgIGNvbnN0IGNpZCA9IHJlcS5wYXJhbXMuY2lkO1xyXG4gICAgZGIucXVlcnkoIFwiRGVsZXRlIGZyb20gY29tbWVudHMgd2hlcmUgY2lkID0gPyBcIixbY2lkXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19","map":{"version":3,"sources":["Comments.js"],"names":["router","express","Router","require","db","get","req","res","console","log","cmid","params","query","err","result","camp","json","post","validateToken","body","uid","user","comment","error","success","cid","module","exports"],"mappings":";;AAAA;;AACA;;;;AAGA,IAAMA,MAAM,GAAEC,oBAAQC,MAAR,EAAd;;AACA,eAAaC,OAAO,CAAC,aAAD,CAApB;AAAA,IAAOC,EAAP,YAAOA,EAAP;;AAEAJ,MAAM,CAACK,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAKC,GAAL,EAAW;AAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,MAAMC,IAAI,GAAGJ,GAAG,CAACK,MAAJ,CAAWD,IAAxB;AACAN,EAAAA,EAAE,CAACQ,KAAH,CAAU,qGAAV,EAAgH,CAACF,IAAD,CAAhH,EAAwH,UAACG,GAAD,EAAKC,MAAL,EAAe;AACnI,QAAGD,GAAH,EAAO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KAFD,MAGI;AACA,UAAME,IAAI,GAAGD,MAAb;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AAEA,aAAOR,GAAG,CAACS,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAkBH,CArBD;AA0BAf,MAAM,CAACiB,IAAP,CAAY,iBAAZ,EAA8BC,6BAA9B,EAA6C,UAACZ,GAAD,EAAKC,GAAL,EAAW;AACpD,MAAMG,IAAI,GAAGJ,GAAG,CAACa,IAAJ,CAAST,IAAtB;AACA,MAAMU,GAAG,GAAGd,GAAG,CAACe,IAAJ,CAASD,GAArB;AACA,MAAME,OAAO,GAAGhB,GAAG,CAACa,IAAJ,CAASG,OAAzB;AAEAd,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ,EAAiBU,GAAjB,EAAqBE,OAArB;AAEAlB,EAAAA,EAAE,CAACQ,KAAH,CAAS,oDAAT,EAA8D,CAACQ,GAAD,EAAKV,IAAL,EAAUY,OAAV,CAA9D,EAAiF,UAACT,GAAD,EAAKC,MAAL,EAAc;AAC3F,QAAGD,GAAH,EAAO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AAEAN,MAAAA,GAAG,CAACS,IAAJ,CAAS;AAACO,QAAAA,KAAK,EAACV;AAAP,OAAT;AACH,KAJD,MAKI;AAEAN,MAAAA,GAAG,CAACS,IAAJ,CAAS;AAACQ,QAAAA,OAAO,EAAC;AAAT,OAAT;AACH;AACJ,GAVD;AAcH,CArBD;AAuBAxB,MAAM,CAACK,GAAP,CAAW,qBAAX,EAAkC,UAACC,GAAD,EAAKC,GAAL,EAAW;AAEzC,MAAMkB,GAAG,GAAGnB,GAAG,CAACK,MAAJ,CAAWc,GAAvB;AACArB,EAAAA,EAAE,CAACQ,KAAH,CAAU,qCAAV,EAAgD,CAACa,GAAD,CAAhD,EAAuD,UAACZ,GAAD,EAAKC,MAAL,EAAe;AAClE,QAAGD,GAAH,EAAO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KAFD,MAGI;AACA,UAAME,IAAI,GAAGD,MAAb;AAEAN,MAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AAEA,aAAOR,GAAG,CAACS,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAgBH,CAnBD;AAyBAW,MAAM,CAACC,OAAP,GAAiB3B,MAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\nrouter.get(\"/:cmid\", (req,res)=>{\r\n    console.log(\"hello\");\r\n    const cmid = req.params.cmid;\r\n    db.query( \"Select c.text,c.uid,c.cid,u.Name from comments c inner join user u  ON c.uid = u.uid where cmid = ?\",[cmid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\nrouter.post('/createComments',validateToken, (req,res)=>{\r\n    const cmid = req.body.cmid;\r\n    const uid = req.user.uid;\r\n    const comment = req.body.comment;\r\n\r\n    console.log(cmid,uid,comment);\r\n\r\n    db.query(\"Insert into comments (uid,cmid,text) value (?,?,?)\",[uid,cmid,comment],(err,result)=>{\r\n        if(err){\r\n            console.log(err);\r\n\r\n            res.json({error:err});\r\n        }\r\n        else{\r\n\r\n            res.json({success:\"success\"});\r\n        }\r\n    });\r\n    \r\n    \r\n    \r\n});\r\n\r\nrouter.get(\"/deleteComment/:cid\", (req,res)=>{\r\n    \r\n    const cid = req.params.cid;\r\n    db.query( \"Delete from comments where cid = ? \",[cid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653574579428}}