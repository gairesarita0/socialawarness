{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressFileupload = _interopRequireDefault(require(\"express-fileupload\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = require(\"jsonwebtoken\");\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express[\"default\"])();\napp.use(_express[\"default\"][\"static\"](_path[\"default\"].join(__dirname + '/public')));\napp.use((0, _expressFileupload[\"default\"])());\napp.use(_bodyParser[\"default\"].json());\napp.use((0, _cors[\"default\"])()); // Routers \n\nvar eventsRouter = require(\"../routes/Events\");\n\nvar userManagement = require(\"../routes/Users\");\n\napp.use(\"/api/events\", eventsRouter);\napp.use(\"/api/users\", userManagement);\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\napp.post('/api/register', function (req, res) {\n  var _req$body = req.body,\n      uname = _req$body.uname,\n      email = _req$body.email,\n      password = _req$body.password;\n\n  _bcrypt[\"default\"].hash(password, 10).then( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(hash) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              db.query(\"Insert into user (name,email,password,accesslevel) value (?,?,?,?)\", [uname, email, hash, 1], function (err, result) {\n                if (err) {\n                  console.log(err);\n                  res.json({\n                    error: err\n                  });\n                } else {\n                  res.json({\n                    success: \"success\"\n                  });\n                }\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n/* login function */\n\napp.post(\"/api/login\", function (req, res) {\n  var _req$body2 = req.body,\n      username = _req$body2.username,\n      password = _req$body2.password;\n  db.query(\"Select * from user where email = ? limit 1 \", [username], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var user = result[0];\n\n      if (!user) {\n        res.json({\n          error: \"Username doesn't exist\"\n        });\n      } else {\n        _bcrypt[\"default\"].compare(password, user.Password).then(function (match) {\n          if (!match) {\n            res.json({\n              error: \"Wrong username and password\"\n            });\n          } else {\n            var accessToken = (0, _jsonwebtoken.sign)({\n              username: user.Name,\n              uid: user.uid,\n              accesslevel: user.accesslevel\n            }, \"secretSarita\");\n            res.json({\n              accessToken: accessToken\n            });\n          }\n        });\n      }\n    }\n  });\n});\n/* check authincated or not */\n\napp.get(\"/api/authOR\", _AuthMiddleware.validateToken, function (req, res) {\n  res.json(req.user);\n});\napp.listen(8000, function () {\n  return console.log(\"Listening on port 8000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJleHByZXNzIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJib2R5UGFyc2VyIiwianNvbiIsImV2ZW50c1JvdXRlciIsInJlcXVpcmUiLCJ1c2VyTWFuYWdlbWVudCIsImRiIiwicG9zdCIsInJlcSIsInJlcyIsImJvZHkiLCJ1bmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwidGhlbiIsInF1ZXJ5IiwiZXJyIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic3VjY2VzcyIsInVzZXJuYW1lIiwidXNlciIsImNvbXBhcmUiLCJQYXNzd29yZCIsIm1hdGNoIiwiYWNjZXNzVG9rZW4iLCJOYW1lIiwidWlkIiwiYWNjZXNzbGV2ZWwiLCJnZXQiLCJ2YWxpZGF0ZVRva2VuIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUdBLElBQU1BLEdBQUcsR0FBRywwQkFBWjtBQUVBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsOEJBQWVDLGlCQUFLQyxJQUFMLENBQVVDLFNBQVMsR0FBRyxTQUF0QixDQUFmLENBQVI7QUFDQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0NBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFLLHVCQUFXQyxJQUFYLEVBQVI7QUFDQVAsR0FBRyxDQUFDQyxHQUFKLENBQVEsdUJBQVIsRSxDQUVBOztBQUNBLElBQU1PLFlBQVksR0FBR0MsT0FBTyxDQUFDLGtCQUFELENBQTVCOztBQUNBLElBQU1DLGNBQWMsR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQTlCOztBQUVBVCxHQUFHLENBQUNDLEdBQUosQ0FBUSxhQUFSLEVBQXNCTyxZQUF0QjtBQUNBUixHQUFHLENBQUNDLEdBQUosQ0FBUSxZQUFSLEVBQXNCUyxjQUF0Qjs7QUFHQSxlQUFhRCxPQUFPLENBQUMsYUFBRCxDQUFwQjtBQUFBLElBQU9FLEVBQVAsWUFBT0EsRUFBUDs7QUFJQVgsR0FBRyxDQUFDWSxJQUFKLENBQVMsZUFBVCxFQUEwQixVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBYTtBQUNuQyxrQkFBK0JELEdBQUcsQ0FBQ0UsSUFBbkM7QUFBQSxNQUFPQyxLQUFQLGFBQU9BLEtBQVA7QUFBQSxNQUFhQyxLQUFiLGFBQWFBLEtBQWI7QUFBQSxNQUFtQkMsUUFBbkIsYUFBbUJBLFFBQW5COztBQUNBQyxxQkFBT0MsSUFBUCxDQUFZRixRQUFaLEVBQXNCLEVBQXRCLEVBQTBCRyxJQUExQjtBQUFBLHVFQUFnQyxpQkFBT0QsSUFBUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ2hDVCxjQUFBQSxFQUFFLENBQUNXLEtBQUgsQ0FBUyxvRUFBVCxFQUE4RSxDQUFDTixLQUFELEVBQU9DLEtBQVAsRUFBYUcsSUFBYixFQUFrQixDQUFsQixDQUE5RSxFQUFtRyxVQUFDRyxHQUFELEVBQUtDLE1BQUwsRUFBYztBQUN6RyxvQkFBR0QsR0FBSCxFQUFPO0FBQ0hFLGtCQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBWjtBQUNBVCxrQkFBQUEsR0FBRyxDQUFDUCxJQUFKLENBQVM7QUFBQ29CLG9CQUFBQSxLQUFLLEVBQUNKO0FBQVAsbUJBQVQ7QUFDSCxpQkFIRCxNQUlJO0FBRUFULGtCQUFBQSxHQUFHLENBQUNQLElBQUosQ0FBUztBQUFDcUIsb0JBQUFBLE9BQU8sRUFBQztBQUFULG1CQUFUO0FBQ0g7QUFDSixlQVRMOztBQURnQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFoQzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWNILENBaEJEO0FBa0JBOztBQUNBNUIsR0FBRyxDQUFDWSxJQUFKLENBQVMsWUFBVCxFQUF1QixVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBWTtBQUUvQixtQkFBK0JELEdBQUcsQ0FBQ0UsSUFBbkM7QUFBQSxNQUFRYyxRQUFSLGNBQVFBLFFBQVI7QUFBQSxNQUFrQlgsUUFBbEIsY0FBa0JBLFFBQWxCO0FBQ0FQLEVBQUFBLEVBQUUsQ0FBQ1csS0FBSCxDQUFVLDZDQUFWLEVBQXdELENBQUNPLFFBQUQsQ0FBeEQsRUFBb0UsVUFBQ04sR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDL0UsUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTU8sSUFBSSxHQUFHTixNQUFNLENBQUMsQ0FBRCxDQUFuQjs7QUFDQSxVQUFJLENBQUNNLElBQUwsRUFBVztBQUNQaEIsUUFBQUEsR0FBRyxDQUFDUCxJQUFKLENBQVM7QUFBRW9CLFVBQUFBLEtBQUssRUFBRTtBQUFULFNBQVQ7QUFDSCxPQUZELE1BSUk7QUFDSVIsMkJBQU9ZLE9BQVAsQ0FBZWIsUUFBZixFQUF5QlksSUFBSSxDQUFDRSxRQUE5QixFQUF3Q1gsSUFBeEMsQ0FBNkMsVUFBQ1ksS0FBRCxFQUFXO0FBRXhELGNBQUksQ0FBQ0EsS0FBTCxFQUNBO0FBRUluQixZQUFBQSxHQUFHLENBQUNQLElBQUosQ0FBUztBQUFDb0IsY0FBQUEsS0FBSyxFQUFDO0FBQVAsYUFBVDtBQUVILFdBTEQsTUFPSTtBQUVBLGdCQUFNTyxXQUFXLEdBQUcsd0JBQUs7QUFBQ0wsY0FBQUEsUUFBUSxFQUFDQyxJQUFJLENBQUNLLElBQWY7QUFBb0JDLGNBQUFBLEdBQUcsRUFBQ04sSUFBSSxDQUFDTSxHQUE3QjtBQUFpQ0MsY0FBQUEsV0FBVyxFQUFDUCxJQUFJLENBQUNPO0FBQWxELGFBQUwsRUFBcUUsY0FBckUsQ0FBcEI7QUFFQXZCLFlBQUFBLEdBQUcsQ0FBQ1AsSUFBSixDQUFTO0FBQUMyQixjQUFBQSxXQUFXLEVBQUVBO0FBQWQsYUFBVDtBQUNIO0FBRVosU0FoQlc7QUFrQmY7QUFHSTtBQUNKLEdBakNEO0FBcUNILENBeENEO0FBMkNBOztBQUNBbEMsR0FBRyxDQUFDc0MsR0FBSixDQUFRLGFBQVIsRUFBc0JDLDZCQUF0QixFQUFvQyxVQUFDMUIsR0FBRCxFQUFLQyxHQUFMLEVBQVc7QUFDM0NBLEVBQUFBLEdBQUcsQ0FBQ1AsSUFBSixDQUFTTSxHQUFHLENBQUNpQixJQUFiO0FBQ0gsQ0FGRDtBQU9BOUIsR0FBRyxDQUFDd0MsTUFBSixDQUFXLElBQVgsRUFBZ0I7QUFBQSxTQUFNZixPQUFPLENBQUNDLEdBQVIsQ0FBWSx3QkFBWixDQUFOO0FBQUEsQ0FBaEIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxnYWlyZVxcT25lRHJpdmVcXERlc2t0b3BcXHNvY2lhbGF3YXJuZXNzXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IGZpbGVVcGxvYWQgZnJvbSBcImV4cHJlc3MtZmlsZXVwbG9hZFwiO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIjtcclxuXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCB7c2lnbn0gZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7dmFsaWRhdGVUb2tlbn0gZnJvbSAnLi4vbWlkZGxld2FyZS9BdXRoTWlkZGxld2FyZSc7XHJcblxyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lICsgJy9wdWJsaWMnKSkpO1xyXG5hcHAudXNlKGZpbGVVcGxvYWQoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG4vLyBSb3V0ZXJzIFxyXG5jb25zdCBldmVudHNSb3V0ZXIgPSByZXF1aXJlKFwiLi4vcm91dGVzL0V2ZW50c1wiKTtcclxuY29uc3QgdXNlck1hbmFnZW1lbnQgPSByZXF1aXJlKFwiLi4vcm91dGVzL1VzZXJzXCIpO1xyXG5cclxuYXBwLnVzZShcIi9hcGkvZXZlbnRzXCIsZXZlbnRzUm91dGVyKTtcclxuYXBwLnVzZShcIi9hcGkvdXNlcnNcIiwgdXNlck1hbmFnZW1lbnQpO1xyXG5cclxuXHJcbmNvbnN0IHtkYn0gPSByZXF1aXJlKFwiLi4vZGF0YWJhc2VcIik7XHJcblxyXG5cclxuXHJcbmFwcC5wb3N0KCcvYXBpL3JlZ2lzdGVyJywgKHJlcSxyZXMpID0+IHtcclxuICAgIGNvbnN0IHt1bmFtZSxlbWFpbCxwYXNzd29yZH0gPSByZXEuYm9keTtcclxuICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCkudGhlbiggYXN5bmMgKGhhc2gpID0+IHtcclxuICAgIGRiLnF1ZXJ5KFwiSW5zZXJ0IGludG8gdXNlciAobmFtZSxlbWFpbCxwYXNzd29yZCxhY2Nlc3NsZXZlbCkgdmFsdWUgKD8sPyw/LD8pXCIsW3VuYW1lLGVtYWlsLGhhc2gsMV0sKGVycixyZXN1bHQpPT57XHJcbiAgICAgICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmVzLmpzb24oe2Vycm9yOmVycn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOlwic3VjY2Vzc1wifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbn0pO1xyXG5cclxuLyogbG9naW4gZnVuY3Rpb24gKi9cclxuYXBwLnBvc3QoXCIvYXBpL2xvZ2luXCIsIChyZXEscmVzKSA9PntcclxuXHJcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICBkYi5xdWVyeSggXCJTZWxlY3QgKiBmcm9tIHVzZXIgd2hlcmUgZW1haWwgPSA/IGxpbWl0IDEgXCIsW3VzZXJuYW1lXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0WzBdO1xyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHsgZXJyb3I6IFwiVXNlcm5hbWUgZG9lc24ndCBleGlzdFwifSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIuUGFzc3dvcmQpLnRoZW4oKG1hdGNoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuanNvbih7ZXJyb3I6XCJXcm9uZyB1c2VybmFtZSBhbmQgcGFzc3dvcmRcIn0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHNpZ24oe3VzZXJuYW1lOnVzZXIuTmFtZSx1aWQ6dXNlci51aWQsYWNjZXNzbGV2ZWw6dXNlci5hY2Nlc3NsZXZlbH0sIFwic2VjcmV0U2FyaXRhXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe2FjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuICAgXHJcbn0pO1xyXG5cclxuXHJcbi8qIGNoZWNrIGF1dGhpbmNhdGVkIG9yIG5vdCAqL1xyXG5hcHAuZ2V0KFwiL2FwaS9hdXRoT1JcIix2YWxpZGF0ZVRva2VuLChyZXEscmVzKT0+e1xyXG4gICAgcmVzLmpzb24ocmVxLnVzZXIpO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuYXBwLmxpc3Rlbig4MDAwLCgpID0+IGNvbnNvbGUubG9nKFwiTGlzdGVuaW5nIG9uIHBvcnQgODAwMFwiKSk7Il19","map":{"version":3,"sources":["server.js"],"names":["app","use","express","path","join","__dirname","bodyParser","json","eventsRouter","require","userManagement","db","post","req","res","body","uname","email","password","bcrypt","hash","then","query","err","result","console","log","error","success","username","user","compare","Password","match","accessToken","Name","uid","accesslevel","get","validateToken","listen"],"mappings":"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","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\src\\","sourcesContent":["import express from \"express\";\r\nimport fileUpload from \"express-fileupload\";\r\nimport bodyParser from \"body-parser\";\r\n\r\nimport cors from 'cors';\r\nimport bcrypt from 'bcrypt';\r\nimport {sign} from 'jsonwebtoken';\r\nimport path from 'path';\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(express.static(path.join(__dirname + '/public')));\r\napp.use(fileUpload());\r\napp.use(bodyParser.json());\r\napp.use(cors());\r\n\r\n// Routers \r\nconst eventsRouter = require(\"../routes/Events\");\r\nconst userManagement = require(\"../routes/Users\");\r\n\r\napp.use(\"/api/events\",eventsRouter);\r\napp.use(\"/api/users\", userManagement);\r\n\r\n\r\nconst {db} = require(\"../database\");\r\n\r\n\r\n\r\napp.post('/api/register', (req,res) => {\r\n    const {uname,email,password} = req.body;\r\n    bcrypt.hash(password, 10).then( async (hash) => {\r\n    db.query(\"Insert into user (name,email,password,accesslevel) value (?,?,?,?)\",[uname,email,hash,1],(err,result)=>{\r\n            if(err){\r\n                console.log(err);\r\n                res.json({error:err});\r\n            }\r\n            else{\r\n                \r\n                res.json({success:\"success\"});\r\n            }\r\n        }); \r\n    });\r\n    \r\n    \r\n});\r\n\r\n/* login function */\r\napp.post(\"/api/login\", (req,res) =>{\r\n\r\n    const { username, password } = req.body;\r\n    db.query( \"Select * from user where email = ? limit 1 \",[username], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const user = result[0];\r\n            if (!user) {\r\n                res.json({ error: \"Username doesn't exist\"});\r\n            }\r\n            \r\n            else{\r\n                    bcrypt.compare(password, user.Password).then((match) => {\r\n\r\n                    if (!match)\r\n                    {\r\n                    \r\n                        res.json({error:\"Wrong username and password\"});\r\n\r\n                    }\r\n\r\n                    else{\r\n\r\n                        const accessToken = sign({username:user.Name,uid:user.uid,accesslevel:user.accesslevel}, \"secretSarita\");\r\n\r\n                        res.json({accessToken: accessToken});\r\n                    }\r\n\r\n        });\r\n        \r\n    }\r\n            \r\n            \r\n        }\r\n    });\r\n\r\n    \r\n   \r\n});\r\n\r\n\r\n/* check authincated or not */\r\napp.get(\"/api/authOR\",validateToken,(req,res)=>{\r\n    res.json(req.user);\r\n})\r\n\r\n\r\n\r\n\r\napp.listen(8000,() => console.log(\"Listening on port 8000\"));"]}},"mtime":1653210162729},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\middleware\\\\AuthMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _require = require('jsonwebtoken'),\n    verify = _require.verify;\n\nvar validateToken = function validateToken(req, res, next) {\n  var accessToken = req.header(\"accessToken\");\n\n  if (!accessToken) {\n    return res.json({\n      error: \"User not logged in\"\n    });\n  }\n\n  try {\n    var validToken = verify(accessToken, \"secretSarita\");\n    req.user = validToken;\n\n    if (validToken) {\n      return next();\n    }\n  } catch (err) {\n    return res.json({\n      error: err\n    });\n  }\n};\n\nmodule.exports = {\n  validateToken: validateToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ2ZXJpZnkiLCJ2YWxpZGF0ZVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsImFjY2Vzc1Rva2VuIiwiaGVhZGVyIiwianNvbiIsImVycm9yIiwidmFsaWRUb2tlbiIsInVzZXIiLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLGVBQWlCQSxPQUFPLENBQUMsY0FBRCxDQUF4QjtBQUFBLElBQU9DLE1BQVAsWUFBT0EsTUFBUDs7QUFDQSxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW1CO0FBQ3JDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsYUFBWCxDQUFwQjs7QUFFQSxNQUFHLENBQUNELFdBQUosRUFBZ0I7QUFDWixXQUFPRixHQUFHLENBQUNJLElBQUosQ0FBUztBQUFDQyxNQUFBQSxLQUFLLEVBQUU7QUFBUixLQUFULENBQVA7QUFFSDs7QUFFRCxNQUFHO0FBQ0MsUUFBTUMsVUFBVSxHQUFFVCxNQUFNLENBQUNLLFdBQUQsRUFBYSxjQUFiLENBQXhCO0FBQ0FILElBQUFBLEdBQUcsQ0FBQ1EsSUFBSixHQUFXRCxVQUFYOztBQUNBLFFBQUlBLFVBQUosRUFBZTtBQUNYLGFBQU9MLElBQUksRUFBWDtBQUNIO0FBQ0osR0FORCxDQU1DLE9BQU1PLEdBQU4sRUFBVTtBQUVQLFdBQU9SLEdBQUcsQ0FBQ0ksSUFBSixDQUFTO0FBQUNDLE1BQUFBLEtBQUssRUFBQ0c7QUFBUCxLQUFULENBQVA7QUFFSDtBQUNKLENBbkJEOztBQXFCQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUNaLEVBQUFBLGFBQWEsRUFBYkE7QUFBRCxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxcbWlkZGxld2FyZVxcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge3ZlcmlmeX0gPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuY29uc3QgdmFsaWRhdGVUb2tlbiA9IChyZXEsIHJlcywgbmV4dCk9PiB7XHJcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5oZWFkZXIoXCJhY2Nlc3NUb2tlblwiKTtcclxuXHJcbiAgICBpZighYWNjZXNzVG9rZW4pe1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7ZXJyb3I6IFwiVXNlciBub3QgbG9nZ2VkIGluXCJ9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHZhbGlkVG9rZW49IHZlcmlmeShhY2Nlc3NUb2tlbixcInNlY3JldFNhcml0YVwiKTtcclxuICAgICAgICByZXEudXNlciA9IHZhbGlkVG9rZW47XHJcbiAgICAgICAgaWYgKHZhbGlkVG9rZW4pe1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1jYXRjaChlcnIpe1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oe2Vycm9yOmVycn0pO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7dmFsaWRhdGVUb2tlbn07Il19","map":{"version":3,"sources":["AuthMiddleware.js"],"names":["require","verify","validateToken","req","res","next","accessToken","header","json","error","validToken","user","err","module","exports"],"mappings":";;AAAA,eAAiBA,OAAO,CAAC,cAAD,CAAxB;AAAA,IAAOC,MAAP,YAAOA,MAAP;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AACrC,MAAMC,WAAW,GAAGH,GAAG,CAACI,MAAJ,CAAW,aAAX,CAApB;;AAEA,MAAG,CAACD,WAAJ,EAAgB;AACZ,WAAOF,GAAG,CAACI,IAAJ,CAAS;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAT,CAAP;AAEH;;AAED,MAAG;AACC,QAAMC,UAAU,GAAET,MAAM,CAACK,WAAD,EAAa,cAAb,CAAxB;AACAH,IAAAA,GAAG,CAACQ,IAAJ,GAAWD,UAAX;;AACA,QAAIA,UAAJ,EAAe;AACX,aAAOL,IAAI,EAAX;AACH;AACJ,GAND,CAMC,OAAMO,GAAN,EAAU;AAEP,WAAOR,GAAG,CAACI,IAAJ,CAAS;AAACC,MAAAA,KAAK,EAACG;AAAP,KAAT,CAAP;AAEH;AACJ,CAnBD;;AAqBAC,MAAM,CAACC,OAAP,GAAiB;AAACZ,EAAAA,aAAa,EAAbA;AAAD,CAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\middleware\\","sourcesContent":["const {verify} = require('jsonwebtoken');\r\nconst validateToken = (req, res, next)=> {\r\n    const accessToken = req.header(\"accessToken\");\r\n\r\n    if(!accessToken){\r\n        return res.json({error: \"User not logged in\"});\r\n\r\n    }\r\n\r\n    try{\r\n        const validToken= verify(accessToken,\"secretSarita\");\r\n        req.user = validToken;\r\n        if (validToken){\r\n            return next();\r\n        }\r\n    }catch(err){\r\n\r\n        return res.json({error:err});\r\n\r\n    }\r\n}\r\n\r\nmodule.exports = {validateToken};"]}},"mtime":1652602494987},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Events.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db;\n\nrouter.get(\"/\", function (req, res) {\n  db.query(\"Select * from campaign where approve = 1\", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/notapproved\", function (req, res) {\n  db.query(\"Select * from campaign where approve = 0 \", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      res.json(camp);\n    }\n  });\n});\nrouter.get(\"/listmypost\", _AuthMiddleware.validateToken, function (req, res) {\n  var uid = req.user.uid;\n  db.query(\"Select * from campaign where uid = ? \", [uid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/approve/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Update campaign SET approve = 1  where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/reject/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Update campaign SET approve = 2  where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/deleteCampaign/:id\", function (req, res) {\n  var id = req.params.id;\n  db.query(\"Delete from campaign where cmid = ? \", [id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.post('/createEvent', _AuthMiddleware.validateToken, function (req, res) {\n  var title = req.body.title;\n  var category = req.body.category;\n  var date = req.body.date;\n  var location = req.body.location;\n  var description = req.body.description;\n  var uid = req.user.uid;\n  var file = req.files.file;\n  console.log(req.body);\n\n  if (req.files === null) {\n    ferror = \"nofile\";\n  } else {\n    file.mv(\"\".concat(__dirname, \"/../src/public/uploads/\").concat(file.name), function (err) {\n      if (err) {\n        console.error(err);\n        return res.status(500).send(err);\n      }\n    });\n  }\n\n  db.query(\"Insert into campaign (cname,category,description,location,date,image,uid) value (?,?,?,?,?,?,?)\", [title, category, description, location, date, file.name, uid], function (err, result) {\n    if (err) {\n      console.log(err);\n      res.json({\n        error: err\n      });\n    } else {\n      res.json({\n        success: \"success\"\n      });\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50cy5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicmVxdWlyZSIsImRiIiwiZ2V0IiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2FtcCIsImpzb24iLCJ2YWxpZGF0ZVRva2VuIiwidWlkIiwidXNlciIsImlkIiwicGFyYW1zIiwicG9zdCIsInRpdGxlIiwiYm9keSIsImNhdGVnb3J5IiwiZGF0ZSIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJmaWxlIiwiZmlsZXMiLCJmZXJyb3IiLCJtdiIsIl9fZGlybmFtZSIsIm5hbWUiLCJlcnJvciIsInN0YXR1cyIsInNlbmQiLCJzdWNjZXNzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUdBLElBQU1BLE1BQU0sR0FBRUMsb0JBQVFDLE1BQVIsRUFBZDs7QUFDQSxlQUFhQyxPQUFPLENBQUMsYUFBRCxDQUFwQjtBQUFBLElBQU9DLEVBQVAsWUFBT0EsRUFBUDs7QUFFQUosTUFBTSxDQUFDSyxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUN2QkgsRUFBQUEsRUFBRSxDQUFDSSxLQUFILENBQVUsMENBQVYsRUFBc0QsVUFBQ0MsR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDakUsUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTUksSUFBSSxHQUFHSCxNQUFiO0FBRUFDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaO0FBRUEsYUFBT04sR0FBRyxDQUFDTyxJQUFKLENBQVNELElBQVQsQ0FBUDtBQUdIO0FBQ0osR0FiRDtBQWtCSCxDQW5CRDtBQXFCQWIsTUFBTSxDQUFDSyxHQUFQLENBQVcsY0FBWCxFQUEyQixVQUFDQyxHQUFELEVB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O0FBQ0pFLFFBQUFBLE9BQU8sQ0FBQ3NCLEtBQVIsQ0FBY3hCLEdBQWQ7QUFDQSxlQUFPRixHQUFHLENBQUMyQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIxQixHQUFyQixDQUFQO0FBQ0g7QUFFSixLQU5EO0FBUUg7O0FBRURMLEVBQUFBLEVBQUUsQ0FBQ0ksS0FBSCxDQUFTLGlHQUFULEVBQTJHLENBQUNhLEtBQUQsRUFBT0UsUUFBUCxFQUFnQkcsV0FBaEIsRUFBNEJELFFBQTVCLEVBQXFDRCxJQUFyQyxFQUEwQ0csSUFBSSxDQUFDSyxJQUEvQyxFQUFvRGhCLEdBQXBELENBQTNHLEVBQW9LLFVBQUNQLEdBQUQsRUFBS0MsTUFBTCxFQUFjO0FBQzlLLFFBQUdELEdBQUgsRUFBTztBQUNIRSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBWjtBQUNBRixNQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFDbUIsUUFBQUEsS0FBSyxFQUFDeEI7QUFBUCxPQUFUO0FBQ0gsS0FIRCxNQUlJO0FBQ0FGLE1BQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQUNzQixRQUFBQSxPQUFPLEVBQUM7QUFBVCxPQUFUO0FBQ0g7QUFDSixHQVJEO0FBWUgsQ0FyQ0Q7QUEwQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnRDLE1BQWpCIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcZ2FpcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxzb2NpYWxhd2FybmVzc1xcc2VydmVyXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7dmFsaWRhdGVUb2tlbn0gZnJvbSAnLi4vbWlkZGxld2FyZS9BdXRoTWlkZGxld2FyZSc7XHJcblxyXG5cclxuY29uc3Qgcm91dGVyID1leHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCB7ZGJ9ID0gcmVxdWlyZShcIi4uL2RhdGFiYXNlXCIpO1xyXG5cclxucm91dGVyLmdldChcIi9cIiwgKHJlcSxyZXMpPT57XHJcbiAgICBkYi5xdWVyeSggXCJTZWxlY3QgKiBmcm9tIGNhbXBhaWduIHdoZXJlIGFwcHJvdmUgPSAxXCIsIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG5cclxuICAgIFxyXG59KVxyXG5cclxucm91dGVyLmdldChcIi9ub3RhcHByb3ZlZFwiLCAocmVxLHJlcyk9PntcclxuICAgIGRiLnF1ZXJ5KCBcIlNlbGVjdCAqIGZyb20gY2FtcGFpZ24gd2hlcmUgYXBwcm92ZSA9IDAgXCIsIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmVzLmpzb24oY2FtcClcclxuXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG59KVxyXG5cclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdG15cG9zdFwiLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgdWlkID0gcmVxLnVzZXIudWlkO1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSBjYW1wYWlnbiB3aGVyZSB1aWQgPSA/IFwiLFt1aWRdLCAoZXJyLHJlc3VsdCkgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5nZXQoXCIvYXBwcm92ZS86aWRcIiwgKHJlcSxyZXMpPT57XHJcbiAgICBcclxuICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIGRiLnF1ZXJ5KCBcIlVwZGF0ZSBjYW1wYWlnbiBTRVQgYXBwcm92ZSA9IDEgIHdoZXJlIGNtaWQgPSA/IFwiLFtpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5nZXQoXCIvcmVqZWN0LzppZFwiLCAocmVxLHJlcyk9PntcclxuICAgIFxyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgZGIucXVlcnkoIFwiVXBkYXRlIGNhbXBhaWduIFNFVCBhcHByb3ZlID0gMiAgd2hlcmUgY21pZCA9ID8gXCIsW2lkXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL2RlbGV0ZUNhbXBhaWduLzppZFwiLCAocmVxLHJlcyk9PntcclxuICAgIFxyXG4gICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgZGIucXVlcnkoIFwiRGVsZXRlIGZyb20gY2FtcGFpZ24gd2hlcmUgY21pZCA9ID8gXCIsW2lkXSwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnL2NyZWF0ZUV2ZW50Jyx2YWxpZGF0ZVRva2VuLCAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHRpdGxlID0gcmVxLmJvZHkudGl0bGU7XHJcbiAgICBjb25zdCBjYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xyXG4gICAgY29uc3QgZGF0ZSA9IHJlcS5ib2R5LmRhdGU7XHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IHJlcS5ib2R5LmxvY2F0aW9uO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcclxuICAgIGNvbnN0IHVpZCA9IHJlcS51c2VyLnVpZDtcclxuXHJcbiAgICBjb25zdCBmaWxlID0gcmVxLmZpbGVzLmZpbGU7XHJcblxyXG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAgaWYocmVxLmZpbGVzID09PSBudWxsKXtcclxuICAgICAgICBmZXJyb3IgPSBcIm5vZmlsZVwiO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBmaWxlLm12KGAke19fZGlybmFtZX0vLi4vc3JjL3B1YmxpYy91cGxvYWRzLyR7ZmlsZS5uYW1lfWAsIGVyciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRiLnF1ZXJ5KFwiSW5zZXJ0IGludG8gY2FtcGFpZ24gKGNuYW1lLGNhdGVnb3J5LGRlc2NyaXB0aW9uLGxvY2F0aW9uLGRhdGUsaW1hZ2UsdWlkKSB2YWx1ZSAoPyw/LD8sPyw/LD8sPylcIixbdGl0bGUsY2F0ZWdvcnksZGVzY3JpcHRpb24sbG9jYXRpb24sZGF0ZSxmaWxlLm5hbWUsdWlkXSwoZXJyLHJlc3VsdCk9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICByZXMuanNvbih7ZXJyb3I6ZXJyfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOlwic3VjY2Vzc1wifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19","map":{"version":3,"sources":["Events.js"],"names":["router","express","Router","require","db","get","req","res","query","err","result","console","log","camp","json","validateToken","uid","user","id","params","post","title","body","category","date","location","description","file","files","ferror","mv","__dirname","name","error","status","send","success","module","exports"],"mappings":"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","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\nrouter.get(\"/\", (req,res)=>{\r\n    db.query( \"Select * from campaign where approve = 1\", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/notapproved\", (req,res)=>{\r\n    db.query( \"Select * from campaign where approve = 0 \", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            res.json(camp)\r\n\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\nrouter.get(\"/listmypost\",validateToken, (req,res)=>{\r\n    const uid = req.user.uid;\r\n    db.query( \"Select * from campaign where uid = ? \",[uid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/approve/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Update campaign SET approve = 1  where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n            \r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/reject/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Update campaign SET approve = 2  where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/deleteCampaign/:id\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    db.query( \"Delete from campaign where cmid = ? \",[id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.post('/createEvent',validateToken, (req,res)=>{\r\n    const title = req.body.title;\r\n    const category = req.body.category;\r\n    const date = req.body.date;\r\n    const location = req.body.location;\r\n    const description = req.body.description;\r\n    const uid = req.user.uid;\r\n\r\n    const file = req.files.file;\r\n\r\n    console.log(req.body);\r\n    if(req.files === null){\r\n        ferror = \"nofile\";\r\n    }\r\n    else{\r\n        file.mv(`${__dirname}/../src/public/uploads/${file.name}`, err => {\r\n            if (err){\r\n                console.error(err);\r\n                return res.status(500).send(err);\r\n            }\r\n            \r\n        });\r\n\r\n    }\r\n\r\n    db.query(\"Insert into campaign (cname,category,description,location,date,image,uid) value (?,?,?,?,?,?,?)\",[title,category,description,location,date,file.name,uid],(err,result)=>{\r\n        if(err){\r\n            console.log(err);\r\n            res.json({error:err});\r\n        }\r\n        else{\r\n            res.json({success:\"success\"});\r\n        }\r\n    });\r\n    \r\n    \r\n    \r\n});\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653113057588},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _mysql = _interopRequireDefault(require(\"mysql\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar db = _mysql[\"default\"].createConnection({\n  user: \"root\",\n  host: \"localhost\",\n  password: \"12345\",\n  database: \"socialdb\"\n});\n\nmodule.exports = {\n  db: db\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbImRiIiwibXlzcWwiLCJjcmVhdGVDb25uZWN0aW9uIiwidXNlciIsImhvc3QiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLElBQU1BLEVBQUUsR0FBR0Msa0JBQU1DLGdCQUFOLENBQXVCO0FBQzlCQyxFQUFBQSxJQUFJLEVBQUUsTUFEd0I7QUFFOUJDLEVBQUFBLElBQUksRUFBRSxXQUZ3QjtBQUc5QkMsRUFBQUEsUUFBUSxFQUFFLE9BSG9CO0FBSTlCQyxFQUFBQSxRQUFRLEVBQUU7QUFKb0IsQ0FBdkIsQ0FBWDs7QUFPQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQUNSLEVBQUFBLEVBQUUsRUFBRkE7QUFBRCxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gXCJteXNxbFwiO1xyXG5cclxuY29uc3QgZGIgPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcclxuICAgIHVzZXI6IFwicm9vdFwiLFxyXG4gICAgaG9zdDogXCJsb2NhbGhvc3RcIixcclxuICAgIHBhc3N3b3JkOiBcIjEyMzQ1XCIsXHJcbiAgICBkYXRhYmFzZTogXCJzb2NpYWxkYlwiLFxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge2RifTtcclxuXHJcbiJdfQ==","map":{"version":3,"sources":["database.js"],"names":["db","mysql","createConnection","user","host","password","database","module","exports"],"mappings":";;AAAA;;;;AAEA,IAAMA,EAAE,GAAGC,kBAAMC,gBAAN,CAAuB;AAC9BC,EAAAA,IAAI,EAAE,MADwB;AAE9BC,EAAAA,IAAI,EAAE,WAFwB;AAG9BC,EAAAA,QAAQ,EAAE,OAHoB;AAI9BC,EAAAA,QAAQ,EAAE;AAJoB,CAAvB,CAAX;;AAOAC,MAAM,CAACC,OAAP,GAAiB;AAACR,EAAAA,EAAE,EAAFA;AAAD,CAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\","sourcesContent":["import mysql from \"mysql\";\r\n\r\nconst db = mysql.createConnection({\r\n    user: \"root\",\r\n    host: \"localhost\",\r\n    password: \"12345\",\r\n    database: \"socialdb\",\r\n});\r\n\r\nmodule.exports = {db};\r\n\r\n"]}},"mtime":1652608290851},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"filename\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\\\\routes\\\\Users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\gaire\\\\OneDrive\\\\Desktop\\\\socialawarness\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _AuthMiddleware = require(\"../middleware/AuthMiddleware\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar _require = require(\"../database\"),\n    db = _require.db; // List all users\n\n\nrouter.get(\"/listusers\", _AuthMiddleware.validateToken, function (req, res) {\n  db.query(\"Select * from user \", function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n}); // change access level\n\nrouter.get(\"/level/:id/:access\", function (req, res) {\n  var id = req.params.id;\n  var access = req.params.access;\n  db.query(\"Update user SET accesslevel = ?  where uid = ? \", [access, id], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nrouter.get(\"/current\", _AuthMiddleware.validateToken, function (req, res) {\n  var uid = req.user.uid;\n  db.query(\"Select * from user where uid = ? \", [uid], function (err, result) {\n    if (err) {\n      console.log(err);\n    } else {\n      var camp = result;\n      console.log(camp);\n      return res.json(camp);\n    }\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyZXF1aXJlIiwiZGIiLCJnZXQiLCJ2YWxpZGF0ZVRva2VuIiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnIiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2FtcCIsImpzb24iLCJpZCIsInBhcmFtcyIsImFjY2VzcyIsInVpZCIsInVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOzs7O0FBR0EsSUFBTUEsTUFBTSxHQUFFQyxvQkFBUUMsTUFBUixFQUFkOztBQUNBLGVBQWFDLE9BQU8sQ0FBQyxhQUFELENBQXBCO0FBQUEsSUFBT0MsRUFBUCxZQUFPQSxFQUFQLEMsQ0FHQTs7O0FBQ0FKLE1BQU0sQ0FBQ0ssR0FBUCxDQUFXLFlBQVgsRUFBd0JDLDZCQUF4QixFQUF1QyxVQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUU5Q0osRUFBQUEsRUFBRSxDQUFDSyxLQUFILENBQVUscUJBQVYsRUFBaUMsVUFBQ0MsR0FBRCxFQUFLQyxNQUFMLEVBQWU7QUFDNUMsUUFBR0QsR0FBSCxFQUFPO0FBQ0hFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaO0FBQ0gsS0FGRCxNQUdJO0FBQ0EsVUFBTUksSUFBSSxHQUFHSCxNQUFiO0FBRUFDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaO0FBRUEsYUFBT04sR0FBRyxDQUFDTyxJQUFKLENBQVNELElBQVQsQ0FBUDtBQUdIO0FBQ0osR0FiRDtBQWdCSCxDQWxCRCxFLENBcUJBOztBQUNBZCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQyxVQUFDRSxHQUFELEVBQUtDLEdBQUwsRUFBVztBQUV4QyxNQUFNUSxFQUFFLEdBQUdULEdBQUcsQ0FBQ1UsTUFBSixDQUFXRCxFQUF0QjtBQUNBLE1BQU1FLE1BQU0sR0FBR1gsR0FBRyxDQUFDVSxNQUFKLENBQVdDLE1BQTFCO0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ0ssS0FBSCxDQUFVLGlEQUFWLEVBQTRELENBQUNTLE1BQUQsRUFBUUYsRUFBUixDQUE1RCxFQUF5RSxVQUFDTixHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNwRixRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFFSCxLQUhELE1BSUk7QUFDQSxVQUFNSSxJQUFJLEdBQUdILE1BQWI7QUFFQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVo7QUFFQSxhQUFPTixHQUFHLENBQUNPLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBR0g7QUFDSixHQWREO0FBaUJILENBckJEO0FBdUJBZCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxVQUFYLEVBQXNCQyw2QkFBdEIsRUFBcUMsVUFBQ0MsR0FBRCxFQUFLQyxHQUFMLEVBQVc7QUFDNUMsTUFBTVcsR0FBRyxHQUFHWixHQUFHLENBQUNhLElBQUosQ0FBU0QsR0FBckI7QUFDQWYsRUFBQUEsRUFBRSxDQUFDSyxLQUFILENBQVUsbUNBQVYsRUFBOEMsQ0FBQ1UsR0FBRCxDQUE5QyxFQUFxRCxVQUFDVCxHQUFELEVBQUtDLE1BQUwsRUFBZTtBQUNoRSxRQUFHRCxHQUFILEVBQU87QUFDSEUsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlILEdBQVo7QUFDSCxLQUZELE1BR0k7QUFDQSxVQUFNSSxJQUFJLEdBQUdILE1BQWI7QUFFQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVo7QUFFQSxhQUFPTixHQUFHLENBQUNPLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBR0g7QUFDSixHQWJEO0FBZ0JILENBbEJEO0FBMkJBTyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ0QixNQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGdhaXJlXFxPbmVEcml2ZVxcRGVza3RvcFxcc29jaWFsYXdhcm5lc3NcXHNlcnZlclxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge3ZhbGlkYXRlVG9rZW59IGZyb20gJy4uL21pZGRsZXdhcmUvQXV0aE1pZGRsZXdhcmUnO1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3Qge2RifSA9IHJlcXVpcmUoXCIuLi9kYXRhYmFzZVwiKTtcclxuXHJcblxyXG4vLyBMaXN0IGFsbCB1c2Vyc1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3R1c2Vyc1wiLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICBcclxuICAgIGRiLnF1ZXJ5KCBcIlNlbGVjdCAqIGZyb20gdXNlciBcIiwgKGVycixyZXN1bHQpID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXsgIFxyXG4gICAgICAgICAgICBjb25zdCBjYW1wID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FtcCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oY2FtcClcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbn0pXHJcblxyXG5cclxuLy8gY2hhbmdlIGFjY2VzcyBsZXZlbFxyXG5yb3V0ZXIuZ2V0KFwiL2xldmVsLzppZC86YWNjZXNzXCIsIChyZXEscmVzKT0+e1xyXG4gICAgXHJcbiAgICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBhY2Nlc3MgPSByZXEucGFyYW1zLmFjY2VzcztcclxuICAgIGRiLnF1ZXJ5KCBcIlVwZGF0ZSB1c2VyIFNFVCBhY2Nlc3NsZXZlbCA9ID8gIHdoZXJlIHVpZCA9ID8gXCIsW2FjY2VzcyxpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNleyAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbXAgPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYW1wKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbihjYW1wKVxyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxufSlcclxuXHJcbnJvdXRlci5nZXQoXCIvY3VycmVudFwiLHZhbGlkYXRlVG9rZW4sIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgdWlkID0gcmVxLnVzZXIudWlkO1xyXG4gICAgZGIucXVlcnkoIFwiU2VsZWN0ICogZnJvbSB1c2VyIHdoZXJlIHVpZCA9ID8gXCIsW3VpZF0sIChlcnIscmVzdWx0KSA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7ICBcclxuICAgICAgICAgICAgY29uc3QgY2FtcCA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhbXApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKGNhbXApXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==","map":{"version":3,"sources":["Users.js"],"names":["router","express","Router","require","db","get","validateToken","req","res","query","err","result","console","log","camp","json","id","params","access","uid","user","module","exports"],"mappings":";;AAAA;;AACA;;;;AAGA,IAAMA,MAAM,GAAEC,oBAAQC,MAAR,EAAd;;AACA,eAAaC,OAAO,CAAC,aAAD,CAApB;AAAA,IAAOC,EAAP,YAAOA,EAAP,C,CAGA;;;AACAJ,MAAM,CAACK,GAAP,CAAW,YAAX,EAAwBC,6BAAxB,EAAuC,UAACC,GAAD,EAAKC,GAAL,EAAW;AAE9CJ,EAAAA,EAAE,CAACK,KAAH,CAAU,qBAAV,EAAiC,UAACC,GAAD,EAAKC,MAAL,EAAe;AAC5C,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAgBH,CAlBD,E,CAqBA;;AACAd,MAAM,CAACK,GAAP,CAAW,oBAAX,EAAiC,UAACE,GAAD,EAAKC,GAAL,EAAW;AAExC,MAAMQ,EAAE,GAAGT,GAAG,CAACU,MAAJ,CAAWD,EAAtB;AACA,MAAME,MAAM,GAAGX,GAAG,CAACU,MAAJ,CAAWC,MAA1B;AACAd,EAAAA,EAAE,CAACK,KAAH,CAAU,iDAAV,EAA4D,CAACS,MAAD,EAAQF,EAAR,CAA5D,EAAyE,UAACN,GAAD,EAAKC,MAAL,EAAe;AACpF,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AAEH,KAHD,MAII;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAdD;AAiBH,CArBD;AAuBAd,MAAM,CAACK,GAAP,CAAW,UAAX,EAAsBC,6BAAtB,EAAqC,UAACC,GAAD,EAAKC,GAAL,EAAW;AAC5C,MAAMW,GAAG,GAAGZ,GAAG,CAACa,IAAJ,CAASD,GAArB;AACAf,EAAAA,EAAE,CAACK,KAAH,CAAU,mCAAV,EAA8C,CAACU,GAAD,CAA9C,EAAqD,UAACT,GAAD,EAAKC,MAAL,EAAe;AAChE,QAAGD,GAAH,EAAO;AACHE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAGI;AACA,UAAMI,IAAI,GAAGH,MAAb;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,aAAON,GAAG,CAACO,IAAJ,CAASD,IAAT,CAAP;AAGH;AACJ,GAbD;AAgBH,CAlBD;AA2BAO,MAAM,CAACC,OAAP,GAAiBtB,MAAjB","sourceRoot":"C:\\Users\\gaire\\OneDrive\\Desktop\\socialawarness\\server\\routes\\","sourcesContent":["import express from \"express\";\r\nimport {validateToken} from '../middleware/AuthMiddleware';\r\n\r\n\r\nconst router =express.Router();\r\nconst {db} = require(\"../database\");\r\n\r\n\r\n// List all users\r\nrouter.get(\"/listusers\",validateToken, (req,res)=>{\r\n   \r\n    db.query( \"Select * from user \", (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\n// change access level\r\nrouter.get(\"/level/:id/:access\", (req,res)=>{\r\n    \r\n    const id = req.params.id;\r\n    const access = req.params.access;\r\n    db.query( \"Update user SET accesslevel = ?  where uid = ? \",[access,id], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n            \r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\nrouter.get(\"/current\",validateToken, (req,res)=>{\r\n    const uid = req.user.uid;\r\n    db.query( \"Select * from user where uid = ? \",[uid], (err,result) =>{\r\n        if(err){\r\n            console.log(err)\r\n        }\r\n        else{  \r\n            const camp = result;\r\n\r\n            console.log(camp);\r\n\r\n            return res.json(camp)\r\n                   \r\n          \r\n        }\r\n    });\r\n\r\n    \r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodule.exports = router;"]}},"mtime":1653205073700}}